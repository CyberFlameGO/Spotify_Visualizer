{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/services/firebase-utils.ts","webpack:///./src/App.vue?7e02","webpack:///./src/components/SeekTrack.vue?a8e1","webpack:///./src/components/Player.vue?59e2","webpack:///./src/services/cookie-utils.ts","webpack:///./src/components/UserPlaylist.vue?7164","webpack:///./src/components/SaveTrack.vue?334a","webpack:///./src/components/PlayerControls.vue?b466","webpack:///./src/components/TrackItem.vue?0d07","webpack:///./src/components/Login.vue?a2c6","webpack:///./src/components/OnlineUsers.vue?d28a","webpack:///./src/App.vue?e36b","webpack:///./src/App.vue?bff9","webpack:///./src/views/Home.vue?dbbc","webpack:///./src/components/Login.vue?c1c3","webpack:///./src/components/Login.vue","webpack:///./src/components/Login.vue?6a4f","webpack:///./src/components/Login.vue?21e5","webpack:///./src/components/OnlineUsers.vue?b319","webpack:///./src/components/LastPlayedItem.vue?42be","webpack:///./src/components/LastPlayedItem.vue","webpack:///./src/components/LastPlayedItem.vue?2b97","webpack:///./src/components/LastPlayedItem.vue?1265","webpack:///./src/components/LastOnlineItem.vue?3eb0","webpack:///./src/components/LastOnlineItem.vue","webpack:///./src/components/LastOnlineItem.vue?3899","webpack:///./src/components/LastOnlineItem.vue?356d","webpack:///./src/components/OnlineItem.vue?8f2f","webpack:///./src/components/OnlineItem.vue","webpack:///./src/components/OnlineItem.vue?4b18","webpack:///./src/components/OnlineItem.vue?4376","webpack:///./src/components/UserPlaylists.vue?071e","webpack:///./src/components/UserPlaylist.vue?f381","webpack:///./src/components/UserPlaylist.vue","webpack:///./src/components/UserPlaylist.vue?de78","webpack:///./src/components/UserPlaylist.vue?8ce3","webpack:///./src/components/UserPlaylists.vue","webpack:///./src/components/UserPlaylists.vue?ef83","webpack:///./src/components/UserPlaylists.vue?2806","webpack:///./src/components/OnlineUsers.vue","webpack:///./src/components/OnlineUsers.vue?35ca","webpack:///./src/components/OnlineUsers.vue?c510","webpack:///./src/components/Player.vue?2200","webpack:///./src/components/TrackItem.vue?bd5a","webpack:///./src/components/TrackItem.vue","webpack:///./src/components/TrackItem.vue?65ee","webpack:///./src/components/TrackItem.vue?1599","webpack:///./src/components/SeekTrack.vue?e1b3","webpack:///./src/components/SeekTrack.vue","webpack:///./src/components/SeekTrack.vue?12f4","webpack:///./src/components/SeekTrack.vue?67f6","webpack:///./src/components/PlayerControls.vue?ff10","webpack:///./src/components/TogglePausePlay.vue?04d0","webpack:///./src/components/TogglePausePlay.vue","webpack:///./src/components/TogglePausePlay.vue?d4b6","webpack:///./src/components/TogglePausePlay.vue?8139","webpack:///./src/components/ToggleShuffle.vue?4e21","webpack:///./src/components/ToggleShuffle.vue","webpack:///./src/components/ToggleShuffle.vue?b51c","webpack:///./src/components/ToggleShuffle.vue?a8d7","webpack:///./src/components/ToggleRepeat.vue?1bd1","webpack:///./src/components/ToggleRepeat.vue","webpack:///./src/components/ToggleRepeat.vue?a411","webpack:///./src/components/ToggleRepeat.vue?119b","webpack:///./src/components/TogglePrev.vue?c778","webpack:///./src/components/TogglePrev.vue","webpack:///./src/components/TogglePrev.vue?a97e","webpack:///./src/components/TogglePrev.vue?7a87","webpack:///./src/components/ToggleNext.vue?e866","webpack:///./src/components/ToggleNext.vue","webpack:///./src/components/ToggleNext.vue?2656","webpack:///./src/components/ToggleNext.vue?8242","webpack:///./src/components/SaveTrack.vue?6e90","webpack:///./src/components/SaveTrack.vue","webpack:///./src/components/SaveTrack.vue?fbae","webpack:///./src/components/SaveTrack.vue?ea64","webpack:///./src/components/PlayerControls.vue","webpack:///./src/components/PlayerControls.vue?8a70","webpack:///./src/components/PlayerControls.vue?63bb","webpack:///./src/services/spotify-utils.ts","webpack:///./src/components/Player.vue","webpack:///./src/components/Player.vue?edb4","webpack:///./src/components/Player.vue?1b8a","webpack:///./src/components/MyPlaylists.vue?8e61","webpack:///./src/components/MyPlaylists.vue","webpack:///./src/components/MyPlaylists.vue?744b","webpack:///./src/components/MyPlaylists.vue?d068","webpack:///./src/components/VisualizerCanvas.vue?e5be","webpack:///./src/services/liveAudio-utils.ts","webpack:///./src/components/VisualizerCanvas.vue","webpack:///./src/components/VisualizerCanvas.vue?c777","webpack:///./src/components/VisualizerCanvas.vue?5433","webpack:///./src/components/VisualizerControls.vue?4a3e","webpack:///./src/components/VisualizerControls.vue","webpack:///./src/components/VisualizerControls.vue?8492","webpack:///./src/components/VisualizerControls.vue?5732","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/components/UserPlaylists.vue?eb6a","webpack:///./src/components/VisualizerControls.vue?073c","webpack:///./src/components/VisualizerCanvas.vue?7dfe","webpack:///./src/components/MyPlaylists.vue?6924"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","firebaseRef","firebase","handleUserPresense","auth","spotifyUrl","userID","user","uid","myConnectionsRef","database","ref","lastOnlineRef","spotifyLinkRef","set","connectedRef","on","snap","val","onDisconnect","remove","log","ServerValue","TIMESTAMP","authUser","userData","post","res","id","signInWithCustomToken","external_urls","spotify","catch","addUser","UserData","addTrackPlayed","trackData","addArtistsPlayed","artistsData","artists","setCookie","date","Date","setTime","getTime","cookie","toUTCString","getCookie","nameLenPlus","split","map","trim","filter","substring","decodeURIComponent","deleteCookie","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticRenderFns","component","staticClass","$store","state","_e","openVisualizer","accessToken","_s","display_name","SpotifyAnalysisUtils","loaded","openVis","commit","axios","headers","Authorization","response","dispatch","updateGtagUserID","refreshAccessToken","refreshToken","access_token","$gtag","user_id","pageview","page_title","page_path","page_location","oldValue","JSON","stringify","playerInfo","spotifyAnalysisUtils","components","BreedingRhombusSpinner","onlineUsers","size","_l","values","item","lastPlayed","Array","from","lastOnlineUsers","reverse","trackDetails","required","calculatedTime","lastOnlineUser","spotifyLink","calcTime","stopTrackTimer","clearInterval","timerRef","currTime","lastTime","lastOnline","time","Math","floor","toString","onlineUser","usersPlaylists","playlist","$event","hideUserPlaylists","getOnlineUserPlaylists","playlistDetails","playPlaylist","deviceID","uri","device_id","put","context_uri","items","next","UserPlaylist","$nextTick","loadOnline","loadLastOnline","payload","onlineU","Map","snapshot","clear","forEach","onlineUserData","child","delete","lastOnlineU","orderByChild","lastOnlineUserData","getters","getOnlineUsers","getLastOnlineUsers","getUsersPlaylists","toggleUsersPlaylists","LastPlayedItem","LastOnlineItem","OnlineItem","UserPlaylists","FingerprintSpinner","showPlayer","hidePlayer","track_window","current_track","class","hidePlayerToggle","convertURItoURL","stringToConvert","stringArr","ret","millisToMinutesAndSeconds","trackPosition","barClick","style","left","position","dragStart","width","duration","timer","dragging","sliderWidth","offset","$data","$refs","sliderRef","clientWidth","getBoundingClientRect","bindListener","trackTimer","millis","minutes","seconds","toFixed","parseInt","addEventListener","drag","dragEnd","pos","ev","getPosition","trackPos","getTrackPosition","setPosition","seekPlayerPosition","clientX","initialTime","delay","paused","changeAnalysis","shuffle","playPlayer","pausePlayer","toggleShuffle","isShuffle","toggleRepeat","isRepeat","prevTrack","nextTrack","unlikeTrack","likeTrack","hasLikedTrack","checkTrack","trackID","TogglePausePlay","ToggleShuffle","ToggleRepeat","TogglePrev","ToggleNext","SaveTrack","resetTrackVariables","changeColour","changeMode","getTrackAnalysis","getTrackFeatures","trackFeatures","trackAnalysis","setTrackAnalysisParts","trackCounter","changeSection","changeBar","changeBeat","changeTatum","changeSegment","g_sections","g_section","sectionEnd","start","g_bars","g_bar","barEnd","barConfidence","confidence","barCounter","g_beats","g_beat","beatEnd","beatConfidence","beatAv","beatVariance","beatCounter","g_tatums","g_tatum","tatumEnd","tatumConfidence","tatumAv","tatumVariance","tatumCounter","g_segments","g_segment","segmentEnd","g_timbre","timbre","g_pitches","pitches","setSections","sections","setBars","bars","setBeats","beats","setTatums","tatums","setSegments","segments","calculateTrackDeviation","valence","calculateBeatDeviation","calculateTatumDeviation","getElementById","sdk","async","sdkInit","player","addListener","playRandomTrack","getPlayerTrack","onSpotifyWebPlaybackSDKReady","Spotify","Player","getOAuthToken","cb","addPlayerListeners","connect","track","uris","randomTrack","random","play","getTrackFeaturesAnalysis","sendTrackData","trackInfo","TrackItem","SeekTrack","PlayerControls","userPlaylists","getThisUsersPlaylists","bassObject","bassDeviation","bassAv","bassArrCounter","bassEnergy","bassArr","lower","upper","kickObject","kickDeviation","kickAv","kickEnergy","kickArrCounter","kickArr","snareObject","snareDeviation","snareAv","snareEnergy","snareArrCounter","snareArr","midsObject","midsDeviation","midsAv","midsEnergy","midsArrCounter","midsArr","highsObject","highsDeviation","highsAv","highsEnergy","highsArrCounter","highsArr","avFreq","peak","rms","context","AudioContext","analyser","createAnalyser","fftSize","smoothingTimeConstant","frequencyData","Uint8Array","frequencyBinCount","bufferLength","minDecibels","maxDecibels","source","navigator","mediaDevices","getUserMedia","enumerateDevices","devices","kind","constraints","audio","deviceId","stream","createMediaStreamSource","resetData","getByteFrequencyData","getBassData","getKickData","getSnareData","getMidsData","getHighsData","getDeviations","getAvFreq","sqrt","liveAudio","noise","camera","renderer","antialias","scene","shapeArr","shapeMax","layerMarker","shapeColour","freqKey","spinConstants","rotateShapeToggle","setupVisualizer","removeShape","cancelAnimationFrame","animationID","changingMode","el","sceneRef","clientHeight","setSize","aspect","children","domElement","canvasResizeListener","addLighting","addOcean","z","composer","EffectComposer","addPass","RenderPass","afterimagePass","AfterimagePass","animate","requestAnimationFrame","getData","PlayerInfo","RandomColour","changeColourKey","RandomMode","changeModeKey","setColour","ColourKey","CameraRotateToggle","rotateCamera","CameraZoomToggle","zoomCamera","doMode","ModeKey","rotateShape","updateProjectionMatrix","passes","uniforms","damp","min","render","noiseFreq","energy","danceability","zHeight","speed","now","tempo","shapeGeo","geometry","count","calcPlanePosition","getX","getY","setZ","needsUpdate","computeVertexNormals","shapeMaterial","material","wireframe","flatShading","isWireframe","addGenerativeSphere","mode1","mode2","mode3","mode4","mode5","zoomVal","asin","zoom","TrackTime","rotationY","noise2D","rotationX","rotationZ","rotation","rotateZ","shape","spinf","x","y","currShape","currColour","colour","params","color","setValues","hslToHex","rgbToHex","a","f","distance","shapeCount","lim","dispose","innerWidth","PI","add","chords","pitch","reduce","sum","currVal","ceil","sin","parameters","thetaStart","thetaLength","shapeType","cubeGeo","octaGeo","sphereGeo","tetraGeo","dodecaGeo","pointLight","spotLight","innerHeight","castShadow","shadow","mapSize","height","near","far","fov","num","hex","g","b","rgbToHexHelper","h","hue2rgb","q","toHex","round","re","oldMode","addShape","setShapePosition","newColourKey","newModeKey","cameraZoomToggle","cameraRotateToggle","randomMode","modeKey","colourKey","noise3D","closeVis","toggleRandomMode","toggleRandomColour","toggleCameraZoom","toggleCameraRotate","hideControls","showControls","isOpen","doCommand","removeEventListener","keyPress","cmd","toLowerCase","randomColour","Login","OnlineUsers","MyPlaylists","VisualizerCanvas","VisualizerControls","use","routes","path","Home","router","base","Store","topTracks","topArtists","mutations","mutateAccessToken","mutateRefreshToken","mutateUser","mutateAuthUser","mutateOpenVisualizer","mutateOnlineUsers","mutateLastOnlineUsers","mutateDeviceID","mutatePlayerInfo","mutateTrackPosition","mutateTopTracks","mutateTopArtists","mutateUserPlaylists","mutateUsersPlaylists","uPlaylists","mutateSpotifyAnalysisUtils","mutateModeKey","mutateColourKey","mutateRandomMode","mutateRandomColour","mutateCameraZoomToggle","mutateCameraRotateToggle","getAccessToken","getRefreshToken","getUser","getAuthUser","getDeviceID","getPlayerInfo","getTopTracks","getTopArtists","getToggleUsersPlaylists","actions","actionAuthUser","config","productionTip","store","App","$mount"],"mappings":"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","file":"js/app.23db7858.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"Community\":\"Community\",\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"Community\":\"35066d30\",\"about\":\"c6e6337b\",\"chunk-2d0d63f1\":\"9de07e2f\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"Community\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"Community\":\"Community\",\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"Community\":\"8ba5ffa6\",\"about\":\"31d6cfe0\",\"chunk-2d0d63f1\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/** Firebase utility  functions */\r\nimport Axios from 'axios'\r\nimport firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.VUE_APP_ApiKey,\r\n  authDomain: process.env.VUE_APP_AuthDomain,\r\n  databaseURL: process.env.VUE_APP_DatabaseURL,\r\n  projectId: process.env.VUE_APP_ProjectId,\r\n  storageBucket: process.env.VUE_APP_StorageBucket,\r\n  messagingSenderId: process.env.VUE_APP_MessagingSenderId,\r\n  appId: process.env.VUE_APP_AppId\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nexport const firebaseRef = { firebase }\r\n\r\nfunction handleUserPresense (auth: any, spotifyUrl: string) {\r\n  const userID = auth.user.uid\r\n  const myConnectionsRef = firebase.database().ref(`users/${userID}/connections`)\r\n\r\n  // stores the timestamp of my last disconnect (the last time I was seen online)\r\n  const lastOnlineRef = firebase.database().ref(`users/${userID}/lastOnline`)\r\n\r\n  const spotifyLinkRef = firebase.database().ref(`users/${userID}/spotifyLink`)\r\n\r\n  spotifyLinkRef.set(spotifyUrl)\r\n\r\n  const connectedRef = firebase.database().ref('.info/connected')\r\n  connectedRef.on('value', function (snap) {\r\n    if (snap.val() === true) {\r\n      // We're connected (or reconnected)! Do anything here that should happen only if online (or on reconnect)\r\n\r\n      // When I disconnect, remove this device\r\n      myConnectionsRef.onDisconnect().remove()\r\n\r\n      // Add this device to my connections list\r\n      // this value could contain info about the device or a timestamp too\r\n      myConnectionsRef.set(userID)\r\n\r\n      console.log(userID + ' is online')\r\n\r\n      // When I disconnect, update the last time I was seen online\r\n      lastOnlineRef.onDisconnect().set(firebase.database.ServerValue.TIMESTAMP)\r\n    }\r\n  })\r\n}\r\n\r\nexport function authUser (userData: SpotifyApi.UserProfileResponse): Promise<boolean> {\r\n  return new Promise((resolve, reject) => {\r\n    Axios.post('/authUser', userData).then((res) => {\r\n      console.log(`Sent user id: ${userData.id} to server`)\r\n      firebase.auth().signInWithCustomToken(res.data).then((res) => {\r\n        handleUserPresense(res, userData.external_urls.spotify)\r\n        resolve(true)\r\n      }).catch(function (error) {\r\n        reject(error)\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\nexport function addUser (UserData: SpotifyApi.UserProfileResponse) {\r\n  Axios.post('/addUser', {\r\n    userData: UserData\r\n  }).then((res) => {\r\n    console.log(res)\r\n  }).catch(function (error) {\r\n    console.log(error)\r\n  })\r\n}\r\n\r\nexport function addTrackPlayed (trackData: SpotifyApi.TrackObjectFull, userID: string) {\r\n  Axios.post('/addTrackPlayed', {\r\n    trackData: trackData,\r\n    userID: userID\r\n  }).then((res) => {\r\n    console.log(res)\r\n  }).catch(function (error) {\r\n    console.log(error)\r\n  })\r\n}\r\n\r\nexport function addArtistsPlayed (trackData: SpotifyApi.TrackObjectFull, userID: string) {\r\n  Axios.post('/addArtistsPlayed', {\r\n    artistsData: trackData.artists,\r\n    userID: userID\r\n  }).then((res) => {\r\n    console.log(res)\r\n  }).catch(function (error) {\r\n    console.log(error)\r\n  })\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeekTrack.vue?vue&type=style&index=0&id=2ab62756&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeekTrack.vue?vue&type=style&index=0&id=2ab62756&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&id=27c94972&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&id=27c94972&scoped=true&lang=css&\"","/*\r\n* General utils for managing cookies in Typescript.\r\n*/\r\nexport function setCookie (name: string, val: string) {\r\n  const date = new Date()\r\n  const value = val\r\n\r\n  // Set it expire in 7 days\r\n  date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000))\r\n\r\n  // Set it\r\n  document.cookie = `${name}=${value};expires=${date.toUTCString()};path=/`\r\n}\r\n\r\nexport function getCookie (name: string) {\r\n  const nameLenPlus = (name.length + 1)\r\n  return document.cookie\r\n    .split(';')\r\n    .map(c => c.trim())\r\n    .filter(cookie => {\r\n      return cookie.substring(0, nameLenPlus) === `${name}=`\r\n    })\r\n    .map(cookie => {\r\n      return decodeURIComponent(cookie.substring(nameLenPlus))\r\n    })[0] || null\r\n}\r\n\r\nexport function deleteCookie (name: string) {\r\n  const date = new Date()\r\n\r\n  // Set it expire in -1 days\r\n  date.setTime(date.getTime() + (-1 * 24 * 60 * 60 * 1000))\r\n\r\n  // Set it\r\n  document.cookie = `${name}=;expires=${date.toUTCString()};path=/`\r\n}\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylist.vue?vue&type=style&index=0&id=bbecfe92&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylist.vue?vue&type=style&index=0&id=bbecfe92&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveTrack.vue?vue&type=style&index=0&id=7069e323&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveTrack.vue?vue&type=style&index=0&id=7069e323&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerControls.vue?vue&type=style&index=0&id=55d5de7e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerControls.vue?vue&type=style&index=0&id=55d5de7e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=style&index=0&id=691ffafe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=style&index=0&id=691ffafe&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4b02e379&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4b02e379&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUsers.vue?vue&type=style&index=0&id=011dae5e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUsers.vue?vue&type=style&index=0&id=011dae5e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/about\"}},[_vm._v(\"About\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/dashboard\"}},[_vm._v(\"Dashboard\")]),_vm._v(\" | \"),_c('router-link',{attrs:{\"to\":\"/community\"}},[_vm._v(\"Community\")])],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=195bc8fc&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[(this.$store.state.authUser)?_c('Player'):_vm._e(),(!this.$store.state.openVisualizer)?_c('div',[_c('Login',{key:this.$store.state.accessToken}),(this.$store.state.playerInfo)?_c('div',[_c('transition-group',{staticClass:\"home-container\",attrs:{\"name\":\"fade\"}},[(this.$store.state.user)?_c('OnlineUsers',{key:this.$store.state.authUser}):_vm._e(),(this.$store.state.authUser)?_c('MyPlaylists',{key:\"myPlaylistsContainer\"}):_vm._e()],1)],1):_vm._e()],1):_c('div',[(this.$store.state.openVisualizer)?_c('div',[(this.$store.state.playerInfo)?_c('VisualizerCanvas'):_vm._e(),(this.$store.state.modeKey)?_c('VisualizerControls'):_vm._e()],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(this.user)?_c('div',{key:\"LoginTrue\"},[_c('h1',[_vm._v(\"hello, \"+_vm._s(this.user.display_name)+\"_\")]),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(this.SpotifyAnalysisUtils && this.SpotifyAnalysisUtils.loaded)?_c('div',{key:\"OpenVisualizer\",staticClass:\"visualizer-button-container\"},[_c('button',{staticClass:\"btn secondary\",on:{\"click\":_vm.openVis}},[_vm._v(\"open visualizer\")])]):_c('div',{key:\"LoadingVisualizer\",staticClass:\"visualizer-button-container\"},[_c('breeding-rhombus-spinner',{attrs:{\"animation-duration\":2000,\"size\":64,\"color\":\"#FFF\"}}),_c('p',{staticClass:\"loading\"},[_vm._v(\"loading visualizer\")])],1)])],1):_c('div',{key:\"LoginFalse\"},[_c('h1',[_vm._v(\"Welcome Home\")]),_c('button',{staticClass:\"btn secondary\",attrs:{\"href\":\"/login\"}},[_vm._v(\"Login\")]),_c('h4',[_vm._v(\"A 3D interactive music visualizer.\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { getCookie, setCookie } from '@/services/cookie-utils'\r\nimport { addUser } from '@/services/firebase-utils'\r\nimport { BreedingRhombusSpinner } from 'epic-spinners'\r\n\r\n@Component({\r\n  components: { BreedingRhombusSpinner }\r\n})\r\nexport default class Login extends Vue {\r\n  get user () {\r\n    return this.$store.state.user\r\n  }\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  get playerInfo () {\r\n    return this.$store.state.playerInfo\r\n  }\r\n\r\n  get SpotifyAnalysisUtils () {\r\n    return this.$store.state.spotifyAnalysisUtils\r\n  }\r\n\r\n  openVis () {\r\n    this.$store.commit('mutateOpenVisualizer', true)\r\n  }\r\n\r\n  created (): void {\r\n    this.$store.commit('mutateAccessToken', getCookie('accessToken'))\r\n    this.$store.commit('mutateRefreshToken', getCookie('refreshToken'))\r\n    Vue.axios.get('https://api.spotify.com/v1/me', {\r\n      headers: {\r\n        Authorization: 'Bearer ' + this.$store.state.accessToken\r\n      }\r\n    }).then((response) => {\r\n      console.log(response)\r\n      this.$store.commit('mutateUser', response.data)\r\n      this.$store.dispatch('actionAuthUser', response.data)\r\n      this.updateGtagUserID(response.data.id)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n      this.refreshAccessToken()\r\n    })\r\n  }\r\n\r\n  private refreshAccessToken () {\r\n    Vue.axios.post('/refreshToken', {\r\n      refreshToken: this.$store.state.refreshToken\r\n    }).then((response) => {\r\n      setCookie('accessToken', response.data.access_token)\r\n      this.$store.commit('mutateAccessToken', getCookie('accessToken'))\r\n    }).catch(console.log)\r\n  }\r\n\r\n  updateGtagUserID (name: string) {\r\n    this.$gtag.set({ user_id: name })\r\n    this.$gtag.pageview({\r\n      page_title: 'Login',\r\n      page_path: '/login',\r\n      page_location: '/login'\r\n    })\r\n  }\r\n\r\n  @Watch('user')\r\n  onUserChanged (value: any, oldValue: object) {\r\n    if (JSON.stringify(value) !== null && JSON.stringify(oldValue) !== JSON.stringify(value)) {\r\n      console.log(false)\r\n      addUser(value)\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4b02e379&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4b02e379&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b02e379\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container-child\"},[_c('div',{staticClass:\"online-users-title\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.onlineUsers)?_c('div',[_c('h3',[_vm._v(\"Online Users \"),_c('i',[_vm._v(\"(\"+_vm._s(_vm.onlineUsers.size)+\")\")])])]):(_vm.lastOnlineUsers)?_c('div',[_c('h3',[_vm._v(\"Last Online Users\")])]):_c('div',[_c('h3',[_vm._v(\"Online Users \"),_c('i',[_vm._v(\"(?)\")])]),_c('fingerprint-spinner',{attrs:{\"animation-duration\":1500,\"size\":64,\"color\":\"#FFF\"}})],1)])],1),_c('div',{staticClass:\"users-container\"},[_c('transition',{attrs:{\"name\":\"fadeRight\",\"mode\":\"out-in\"}},[(_vm.onlineUsers)?_c('div',{key:\"onlineUsersContainer\"},_vm._l((_vm.onlineUsers.values()),function(item){return _c('div',{key:item.user,staticClass:\"each-user\"},[_c('OnlineItem',{attrs:{\"onlineUser\":item}}),_c('LastPlayedItem',{attrs:{\"trackDetails\":item.lastPlayed}}),_c('UserPlaylists',{attrs:{\"userID\":item.user}})],1)}),0):(_vm.lastOnlineUsers)?_c('div',{key:\"lastOnlineUsersContainer\"},_vm._l((Array.from(_vm.lastOnlineUsers.values()).reverse()),function(item,i){return _c('div',{key:item.user + i,staticClass:\"each-user\"},[_c('LastOnlineItem',{attrs:{\"lastOnlineUser\":item}}),_c('LastPlayedItem',{attrs:{\"trackDetails\":item.lastPlayed}}),_c('UserPlaylists',{attrs:{\"userID\":item.user}})],1)}),0):_c('div',[_c('p',[_vm._v(\"no users\")])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.trackDetails)?_c('div',{staticClass:\"item\"},[_c('a',{attrs:{\"href\":_vm.trackDetails.external_urls.spotify,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.trackDetails.name)+\" \")]),_vm._v(\" by \"),_c('a',{attrs:{\"href\":_vm.trackDetails.artists[0].external_urls.spotify,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.trackDetails.artists[0].name)+\" \")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class LastPlayedItem extends Vue {\r\n  @Prop({ required: true })\r\n  trackDetails!: SpotifyApi.TrackLinkObject\r\n\r\n  constructor () {\r\n    super()\r\n    console.log(this.trackDetails)\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastPlayedItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastPlayedItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LastPlayedItem.vue?vue&type=template&id=94bcf5e2&scoped=true&\"\nimport script from \"./LastPlayedItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./LastPlayedItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94bcf5e2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.lastOnlineUser)?_c('div',{staticClass:\"item\"},[_c('a',{key:_vm.calculatedTime,attrs:{\"href\":_vm.lastOnlineUser.spotifyLink,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.lastOnlineUser.user)+\" was last online \"+_vm._s(_vm.calculatedTime)+\" \")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class LastPlayedItem extends Vue {\r\n  @Prop({ required: true })\r\n  lastOnlineUser!: {\r\n    user: string;\r\n    spotifyLink: string;\r\n    lastOnline: number;\r\n  }\r\n\r\n  private calculatedTime!: string\r\n  private timerRef!: any;\r\n\r\n  constructor () {\r\n    super()\r\n    this.calcTime()\r\n  }\r\n\r\n  destroyed () {\r\n    this.stopTrackTimer()\r\n  }\r\n\r\n  private stopTrackTimer () {\r\n    clearInterval(this.timerRef)\r\n  }\r\n\r\n  calcTime () {\r\n    const currTime: any = new Date().getTime()\r\n    const lastTime: number = new Date(this.lastOnlineUser.lastOnline).getTime()\r\n    const time = Math.floor((currTime - lastTime) / 60000)\r\n    if (time > 1440) {\r\n      this.calculatedTime = Math.floor((time / 1440)).toString() + ' days ago'\r\n    } else if (time > 60) {\r\n      this.calculatedTime = Math.floor((time / 60)).toString() + ' hours ago'\r\n    } else {\r\n      this.calculatedTime = time.toString() + ' mins ago'\r\n    }\r\n    console.log('changed time to ' + time)\r\n    this.timerRef = setTimeout(this.calcTime, 60000) // remove set timeout on destroy\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastOnlineItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LastOnlineItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LastOnlineItem.vue?vue&type=template&id=2e89bdbe&scoped=true&\"\nimport script from \"./LastOnlineItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./LastOnlineItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e89bdbe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.onlineUser)?_c('div',{staticClass:\"item\"},[_c('a',{attrs:{\"href\":_vm.onlineUser.spotifyLink,\"target\":\"_blank\"}},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.onlineUser.user)+\" is online \")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class OnlineItem extends Vue {\r\n  @Prop({ required: true })\r\n  onlineUser!: {\r\n    user: string;\r\n    spotifyLink: string;\r\n  }\r\n\r\n  constructor () {\r\n    super()\r\n    console.log(this.onlineUser)\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OnlineItem.vue?vue&type=template&id=247f4448&scoped=true&\"\nimport script from \"./OnlineItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./OnlineItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"247f4448\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\"},[_c('transition',{attrs:{\"name\":\"fadeUp\",\"mode\":\"out-in\"}},[(this.usersPlaylists.get(_vm.userID))?_c('div',{key:\"close{{userID}}Playlists\",staticClass:\"playlists-container\"},[_vm._l((this.usersPlaylists.get(_vm.userID)),function(playlist){return _c('div',{key:_vm.userID + playlist.id},[_c('UserPlaylist',{attrs:{\"playlistDetails\":playlist,\"userID\":_vm.userID}})],1)}),_c('button',{staticClass:\"btn secondary\",on:{\"click\":function($event){return _vm.hideUserPlaylists(_vm.userID)}}},[_vm._v(\"Hide \"+_vm._s(_vm.userID)+\"'s playlists\")])],2):_c('div',{key:\"open{{userID}}Playlists\"},[_c('button',{staticClass:\"btn primary\",on:{\"click\":function($event){return _vm.getOnlineUserPlaylists(_vm.userID)}}},[_vm._v(\"load \"+_vm._s(_vm.userID)+\"'s playlists\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.playlistDetails)?_c('div',{staticClass:\"playlist-item\"},[_c('a',{attrs:{\"href\":_vm.playlistDetails.external_urls.spotify,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.playlistDetails.name)+\" \")]),_c('i',{staticClass:\"icon play\",on:{\"click\":function($event){return _vm.playPlaylist(_vm.deviceID, _vm.playlistDetails.uri)}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class Playlist extends Vue {\r\n  @Prop({ required: true })\r\n  playlistDetails!: SpotifyApi.PlaylistObjectFull\r\n\r\n  @Prop({ required: true })\r\n  userID!: string\r\n\r\n  get deviceID () {\r\n    return this.$store.state.deviceID\r\n  }\r\n\r\n  private playPlaylist (device_id: string, playlist: string): void {\r\n    console.log(playlist)\r\n    console.log(device_id)\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`, {\r\n      context_uri: playlist\r\n    }, {\r\n      headers: { Authorization: 'Bearer ' + this.$store.state.accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylist.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylist.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPlaylist.vue?vue&type=template&id=bbecfe92&scoped=true&\"\nimport script from \"./UserPlaylist.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPlaylist.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserPlaylist.vue?vue&type=style&index=0&id=bbecfe92&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bbecfe92\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\r\nimport UserPlaylist from '@/components/UserPlaylist.vue'\r\n\r\n@Component({\r\n  components: { UserPlaylist }\r\n})\r\nexport default class UserPlaylists extends Vue {\r\n  @Prop({ required: true })\r\n  userID!: string;\r\n\r\n  get usersPlaylists () {\r\n    return this.$store.state.usersPlaylists\r\n  }\r\n\r\n  hideUserPlaylists (userID: string) {\r\n    console.log(`hiding ${userID}'s playlists`)\r\n    this.$store.commit('mutateUsersPlaylists', {\r\n      key: userID, value: false\r\n    })\r\n  }\r\n\r\n  private getOnlineUserPlaylists (userID: string) {\r\n    console.log(`getting ${userID}'s playlists`)\r\n    Vue.axios.get(`https://api.spotify.com/v1/users/${userID}/playlists?limit=5`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + this.$store.state.accessToken\r\n      }\r\n    }).then((response) => {\r\n      console.log(response)\r\n      this.$store.commit('mutateUsersPlaylists', {\r\n        key: userID,\r\n        value: response.data.items,\r\n        next: response.data.next\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylists.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylists.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPlaylists.vue?vue&type=template&id=52e97771&scoped=true&\"\nimport script from \"./UserPlaylists.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPlaylists.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserPlaylists.vue?vue&type=style&index=0&id=52e97771&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52e97771\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { firebaseRef } from '@/services/firebase-utils'\r\nimport LastPlayedItem from '@/components/LastPlayedItem.vue'\r\nimport LastOnlineItem from '@/components/LastOnlineItem.vue'\r\nimport OnlineItem from '@/components/OnlineItem.vue'\r\nimport UserPlaylists from '@/components/UserPlaylists.vue'\r\nimport { FingerprintSpinner } from 'epic-spinners'\r\n\r\n@Component({\r\n  components: { LastPlayedItem, LastOnlineItem, OnlineItem, UserPlaylists, FingerprintSpinner }\r\n})\r\nexport default class OnlineUsers extends Vue {\r\n  get user () {\r\n    return this.$store.state.user\r\n  }\r\n\r\n  get onlineUsers () {\r\n    return this.$store.getters.getOnlineUsers\r\n  }\r\n\r\n  get lastOnlineUsers () {\r\n    return this.$store.getters.getLastOnlineUsers\r\n  }\r\n\r\n  get usersPlaylists () {\r\n    return this.$store.getters.getUsersPlaylists\r\n  }\r\n\r\n  get toggleUsersPlaylists () {\r\n    return this.$store.state.toggleUsersPlaylists\r\n  }\r\n\r\n  created () {\r\n    this.$nextTick(function () {\r\n      // Code that will run only after the\r\n      // entire view has been rendered\r\n      this.loadOnline()\r\n      this.loadLastOnline()\r\n    })\r\n  }\r\n\r\n  hideUserPlaylists (userID: string) {\r\n    console.log(`hiding ${userID}'s playlists`)\r\n    this.$store.commit('mutateUsersPlaylists', { key: userID, value: false })\r\n  }\r\n\r\n  private getOnlineUserPlaylists (userID: string) {\r\n    console.log(`getting ${userID}'s playlists`)\r\n    console.log(userID)\r\n    Vue.axios.get(`https://api.spotify.com/v1/users/${userID}/playlists`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + this.$store.state.accessToken\r\n      }\r\n    }).then((response) => {\r\n      console.log(response.data.items)\r\n      const payload = {\r\n        key: userID,\r\n        value: response.data.items\r\n      }\r\n      // this.$store.commit('mutateUsersPlaylists', payload)\r\n      this.$nextTick().then(() => {\r\n        this.$store.commit('mutateUsersPlaylists', payload)\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  loadOnline () {\r\n    const onlineU = new Map<number, any>()\r\n    firebaseRef.firebase.database().ref('users/').on('value', (snapshot: any) => {\r\n      onlineU.clear()\r\n      snapshot.forEach((user: any) => {\r\n        if (this.user.id !== user.key) {\r\n          const onlineUserData = {\r\n            user: user.child('connections').val(),\r\n            spotifyLink: user.child('spotifyLink').val(),\r\n            lastPlayed: user.child('lastPlayed').val()\r\n          }\r\n          if (onlineUserData.user) {\r\n            onlineU.set(onlineUserData.user, onlineUserData)\r\n          } else {\r\n            onlineU.delete(onlineUserData.user)\r\n          }\r\n        }\r\n      })\r\n      if (onlineU.size === 0) {\r\n        this.$store.commit('mutateOnlineUsers', null)\r\n        this.loadLastOnline()\r\n      } else {\r\n        this.$store.commit('mutateOnlineUsers', onlineU)\r\n      }\r\n      console.log(onlineU)\r\n    })\r\n  }\r\n\r\n  loadLastOnline () {\r\n    const lastOnlineU = new Map<number, any>()\r\n    firebaseRef.firebase.database().ref('users/').orderByChild('lastOnline').on('value', (snapshot: any) => {\r\n      lastOnlineU.clear()\r\n      snapshot.forEach((user: any) => {\r\n        if (this.user.id !== user.key) {\r\n          const lastOnlineUserData = {\r\n            user: user.key,\r\n            spotifyLink: user.child('spotifyLink').val(),\r\n            lastPlayed: user.child('lastPlayed').val(),\r\n            lastOnline: user.child('lastOnline').val()\r\n          }\r\n          lastOnlineU.set(lastOnlineUserData.user, lastOnlineUserData)\r\n        }\r\n      })\r\n      this.$store.commit('mutateLastOnlineUsers', lastOnlineU)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUsers.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUsers.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OnlineUsers.vue?vue&type=template&id=011dae5e&scoped=true&\"\nimport script from \"./OnlineUsers.vue?vue&type=script&lang=ts&\"\nexport * from \"./OnlineUsers.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OnlineUsers.vue?vue&type=style&index=0&id=011dae5e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"011dae5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fadeUp\"}},[(this.accessToken && this.playerInfo)?_c('div',{staticClass:\"player-container\"},[_c('transition',{attrs:{\"name\":\"fadeDown\",\"mode\":\"out-in\"}},[(this.hidePlayerToggle)?_c('div',{key:\"HiddenPlayerContainer\",staticClass:\"hidden-bar-container\"},[_c('div',[_c('a',{on:{\"click\":_vm.showPlayer}},[_vm._v(\"show player\")])])]):_c('div',{key:\"OpenPlayerContainer\",staticClass:\"player-bar-container\"},[_c('div',{staticClass:\"hideToggle\"},[_c('a',{on:{\"click\":_vm.hidePlayer}},[_vm._v(\"hide player\")])]),_c('div',{staticClass:\"player-bar\"},[_c('TrackItem',{attrs:{\"trackDetails\":this.playerInfo.track_window.current_track}}),_c('PlayerControls')],1)])]),_c('div',{staticClass:\"player-progress\",class:[this.hidePlayerToggle ? 'off' : 'on']},[_c('SeekTrack',{attrs:{\"playerInfo\":this.playerInfo}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.trackDetails)?_c('div',{staticClass:\"now-playing-left-container\"},[_c('div',{staticClass:\"now-playing-left\"},[_c('div',{staticClass:\"track-details\"},[_c('div',{staticClass:\"track-name\"},[_c('a',{attrs:{\"href\":_vm.convertURItoURL(_vm.trackDetails.uri),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.trackDetails.name)+\" \")])]),_c('div',{staticClass:\"artist-name\"},[_c('a',{attrs:{\"href\":_vm.convertURItoURL(_vm.trackDetails.artists[0].uri),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.trackDetails.artists[0].name)+\" \")])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class TrackItem extends Vue {\r\n  @Prop({ required: true })\r\n  trackDetails!: SpotifyApi.TrackLinkObject\r\n\r\n  constructor () {\r\n    super()\r\n    console.log(this.trackDetails)\r\n  }\r\n\r\n  convertURItoURL (stringToConvert: string) {\r\n    const stringArr = stringToConvert.split(':')\r\n    let ret = 'https://open.spotify.com/'\r\n\r\n    if (stringArr.length === 3) {\r\n      ret += stringArr[1] + '/'\r\n      ret += stringArr[2]\r\n    }\r\n\r\n    return ret\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrackItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrackItem.vue?vue&type=template&id=691ffafe&scoped=true&\"\nimport script from \"./TrackItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrackItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TrackItem.vue?vue&type=style&index=0&id=691ffafe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"691ffafe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"now-playing-center-container\"},[_c('div',{staticClass:\"now-playing-center\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.millisToMinutesAndSeconds(_vm.trackPosition))+\" \")]),_c('div',{staticClass:\"slider\",on:{\"click\":_vm.barClick}},[_c('div',{ref:\"sliderRef\",staticClass:\"slider-bar\"},[_c('div',{staticClass:\"slider-handle\",style:({ left: this.position + 'px' }),on:{\"mousedown\":function($event){return _vm.dragStart($event, 0)}}}),_c('div',{staticClass:\"slider-process\",style:({ width: this.position + 'px' })})])]),_c('div',[_vm._v(\" \"+_vm._s(_vm.millisToMinutesAndSeconds(_vm.playerInfo.duration))+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class SeekTrack extends Vue {\r\n  @Prop({ required: true })\r\n  playerInfo!: Spotify.PlaybackState\r\n\r\n  private timerRef!: any;\r\n\r\n  data () {\r\n    return {\r\n      position: 0,\r\n      timer: null,\r\n      dragging: false,\r\n      sliderWidth: 0,\r\n      offset: null\r\n    }\r\n  }\r\n\r\n  created () {\r\n    this.$nextTick(() => {\r\n      this.$data.sliderWidth = (this.$refs.sliderRef as HTMLElement).clientWidth\r\n      this.$data.offset = (this.$refs.sliderRef as HTMLElement).getBoundingClientRect().left\r\n      this.bindListener()\r\n      this.trackTimer()\r\n    })\r\n  }\r\n\r\n  destroyed () {\r\n    this.stopTrackTimer()\r\n  }\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  get trackPosition () {\r\n    return this.$store.state.trackPosition\r\n  }\r\n\r\n  get SpotifyAnalysisUtils () {\r\n    return this.$store.state.spotifyAnalysisUtils\r\n  }\r\n\r\n  millisToMinutesAndSeconds (millis: number) {\r\n    const minutes = Math.floor(millis / 60000)\r\n    const seconds = ((millis % 60000) / 1000).toFixed(0)\r\n    return minutes + ':' + (parseInt(seconds) < 10 ? '0' : '') + seconds\r\n  }\r\n\r\n  bindListener () {\r\n    document.addEventListener('mousemove', this.drag)\r\n    document.addEventListener('mouseup', this.dragEnd)\r\n  }\r\n\r\n  private setPosition (pos: number) {\r\n    this.$data.position = pos\r\n  }\r\n\r\n  barClick (ev: any) {\r\n    const pos = this.getPosition(ev)\r\n    const trackPos = this.getTrackPosition(ev)\r\n    this.setPosition(pos)\r\n    this.seekPlayerPosition(this.accessToken, trackPos)\r\n    this.$store.commit('mutateTrackPosition', trackPos)\r\n  }\r\n\r\n  dragStart () {\r\n    this.$data.dragging = true\r\n  }\r\n\r\n  drag (ev: any) {\r\n    if (!this.$data.dragging) {\r\n      return\r\n    }\r\n    const pos = this.getPosition(ev)\r\n    const trackPos = this.getTrackPosition(ev)\r\n    if (pos > 0 && pos < this.$data.sliderWidth) {\r\n      this.setPosition(pos)\r\n      this.$store.commit('mutateTrackPosition', trackPos)\r\n    }\r\n  }\r\n\r\n  dragEnd (ev: any) {\r\n    if (!this.$data.dragging) {\r\n      return\r\n    }\r\n    this.seekPlayerPosition(this.accessToken, this.trackPosition)\r\n    this.$data.dragging = false\r\n  }\r\n\r\n  getPosition (ev: any) {\r\n    return ev.clientX - this.$data.offset\r\n  }\r\n\r\n  getTrackPosition (ev: any) {\r\n    return Math.floor(((ev.clientX - this.$data.offset) / this.$data.sliderWidth) * this.playerInfo.duration)\r\n  }\r\n\r\n  seekPlayerPosition (accessToken: string, position: number) {\r\n    console.log('=== seek player ====')\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/player/seek?position_ms=${position}`, {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  private stopTrackTimer () {\r\n    clearInterval(this.timerRef)\r\n  }\r\n\r\n  trackTimer () {\r\n    /** Need to add to if statement */\r\n    const initialTime = new Date().getTime()\r\n    this.timerRef = setTimeout(() => {\r\n      const delay = new Date().getTime() - initialTime\r\n      if (!this.playerInfo.paused) {\r\n        this.$store.commit('mutateTrackPosition', this.trackPosition + delay)\r\n      }\r\n      this.trackTimer()\r\n    }, 10)\r\n  }\r\n\r\n  @Watch('trackPosition')\r\n  onTrackPositionChanged (value: number, oldValue: number) {\r\n    if (value >= 0) {\r\n      this.setPosition(Math.floor(value / this.playerInfo.duration * this.$data.sliderWidth))\r\n      // change spotify Analysis here\r\n      this.SpotifyAnalysisUtils.changeAnalysis(value)\r\n    }\r\n  }\r\n\r\n  @Watch('playerInfo')\r\n  onPlayerInfoChanged (value: Spotify.PlaybackState, oldValue: Spotify.PlaybackState) {\r\n    if (value) {\r\n      this.$store.commit('mutateTrackPosition', value.position)\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeekTrack.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SeekTrack.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SeekTrack.vue?vue&type=template&id=2ab62756&scoped=true&\"\nimport script from \"./SeekTrack.vue?vue&type=script&lang=ts&\"\nexport * from \"./SeekTrack.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SeekTrack.vue?vue&type=style&index=0&id=2ab62756&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ab62756\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.playerInfo)?_c('div',{staticClass:\"now-playing-right-container\"},[_c('div',{staticClass:\"now-playing-right\"},[_c('div',{staticClass:\"player-controls\"},[_c('TogglePrev'),_c('TogglePausePlay',{attrs:{\"isPaused\":_vm.playerInfo.paused}}),_c('ToggleNext'),_c('ToggleShuffle',{attrs:{\"isShuffle\":_vm.playerInfo.shuffle}}),_c('SaveTrack',{attrs:{\"trackID\":_vm.playerInfo.track_window.current_track.id}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isPaused)?_c('div',{staticClass:\"button-container\"},[_c('i',{staticClass:\"icon play\",on:{\"click\":function($event){return _vm.playPlayer(_vm.accessToken)}}})]):_c('div',{staticClass:\"button-container\"},[_c('i',{staticClass:\"icon pause\",on:{\"click\":function($event){return _vm.pausePlayer(_vm.accessToken)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class ToggleNextPrev extends Vue {\r\n  @Prop({ required: true })\r\n  isPaused!: boolean\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  pausePlayer (accessToken: string) {\r\n    console.log('=== pausing player ====')\r\n    Vue.axios.put('https://api.spotify.com/v1/me/player/pause', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  playPlayer (accessToken: string) {\r\n    console.log('=== playing player ====')\r\n    Vue.axios.put('https://api.spotify.com/v1/me/player/play', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TogglePausePlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TogglePausePlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TogglePausePlay.vue?vue&type=template&id=ba6840ae&scoped=true&\"\nimport script from \"./TogglePausePlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./TogglePausePlay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba6840ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isShuffle)?_c('div',[_c('i',{staticClass:\"icon shuffle on\",on:{\"click\":function($event){return _vm.toggleShuffle(_vm.accessToken)}}})]):_c('div',[_c('i',{staticClass:\"icon shuffle\",on:{\"click\":function($event){return _vm.toggleShuffle(_vm.accessToken)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class ToggleShuffle extends Vue {\r\n  @Prop({ required: true })\r\n  isShuffle!: boolean\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  toggleShuffle (accessToken: string) {\r\n    console.log('=== shuffle player ====')\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/player/shuffle?state=${!this.isShuffle}`, {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleShuffle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleShuffle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToggleShuffle.vue?vue&type=template&id=5d6a3951&scoped=true&\"\nimport script from \"./ToggleShuffle.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToggleShuffle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d6a3951\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isRepeat)?_c('div',[_c('button',{on:{\"click\":function($event){return _vm.toggleRepeat(_vm.accessToken)}}},[_vm._v(\"Don't Repeat Player\")])]):_c('div',[_c('button',{on:{\"click\":function($event){return _vm.toggleRepeat(_vm.accessToken)}}},[_vm._v(\"Repeat Player\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class ToggleShuffle extends Vue {\r\n  @Prop({ required: true })\r\n  isRepeat!: boolean\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  toggleRepeat (accessToken: string) {\r\n    console.log('=== repeat player ====')\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/player/repeat?state=${!this.isRepeat}`, {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleRepeat.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleRepeat.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToggleRepeat.vue?vue&type=template&id=3312b0ea&scoped=true&\"\nimport script from \"./ToggleRepeat.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToggleRepeat.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3312b0ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"button-container\"},[_c('i',{staticClass:\"icon prev\",on:{\"click\":function($event){return _vm.prevTrack(_vm.accessToken)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class ToggleNextPrev extends Vue {\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  prevTrack (accessToken: string) {\r\n    console.log('=== prev player ====')\r\n    Vue.axios.post('https://api.spotify.com/v1/me/player/previous', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TogglePrev.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TogglePrev.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TogglePrev.vue?vue&type=template&id=7ef99e15&scoped=true&\"\nimport script from \"./TogglePrev.vue?vue&type=script&lang=ts&\"\nexport * from \"./TogglePrev.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef99e15\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"button-container\"},[_c('i',{staticClass:\"icon next\",on:{\"click\":function($event){return _vm.nextTrack(_vm.accessToken)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class ToggleNextPrev extends Vue {\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  nextTrack (accessToken: string) {\r\n    console.log('=== next player ====')\r\n    Vue.axios.post('https://api.spotify.com/v1/me/player/next', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleNext.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleNext.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToggleNext.vue?vue&type=template&id=5541ab4e&scoped=true&\"\nimport script from \"./ToggleNext.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToggleNext.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5541ab4e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(this.$data.hasLikedTrack)?_c('div',[_c('i',{staticClass:\"icon heart on\",on:{\"click\":function($event){return _vm.unlikeTrack(_vm.accessToken)}}})]):_c('div',[_c('i',{staticClass:\"icon heart\",on:{\"click\":function($event){return _vm.likeTrack(_vm.accessToken)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch, Prop } from 'vue-property-decorator'\r\nimport { SpotifyPlayer } from '@/services/spotify-utils'\r\n\r\n@Component\r\nexport default class SaveTrack extends Vue {\r\n  @Prop({ required: true })\r\n  trackID!: string\r\n\r\n  data () {\r\n    return {\r\n      hasLikedTrack: false\r\n    }\r\n  }\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.checkTrack(this.accessToken)\r\n    })\r\n  }\r\n\r\n  checkTrack (accessToken: string) {\r\n    console.log(`checking track ${this.trackID}`)\r\n    Vue.axios.get(`https://api.spotify.com/v1/me/tracks/contains?ids=${this.trackID}`, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then((res: any) => {\r\n      console.log(res.data)\r\n      this.$data.hasLikedTrack = res.data[0]\r\n      console.log(this.$data.hasLikedTrack)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  unlikeTrack (accessToken: string) {\r\n    console.log('=== unlike track ====')\r\n    Vue.axios.delete(`https://api.spotify.com/v1/me/tracks?ids=${this.trackID}`, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n      this.checkTrack(this.accessToken)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  likeTrack (accessToken: string) {\r\n    console.log('=== like track ====')\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/tracks?ids=${this.trackID}`, {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n      this.checkTrack(this.accessToken)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  @Watch('trackID')\r\n  onTrackIDChange (value: string, oldValue: string) {\r\n    this.$nextTick(() => {\r\n      this.checkTrack(this.accessToken)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveTrack.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveTrack.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SaveTrack.vue?vue&type=template&id=7069e323&scoped=true&\"\nimport script from \"./SaveTrack.vue?vue&type=script&lang=ts&\"\nexport * from \"./SaveTrack.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SaveTrack.vue?vue&type=style&index=0&id=7069e323&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7069e323\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator'\r\nimport TogglePausePlay from '@/components/TogglePausePlay.vue'\r\nimport ToggleShuffle from '@/components/ToggleShuffle.vue'\r\nimport ToggleRepeat from '@/components/ToggleRepeat.vue'\r\nimport TogglePrev from '@/components/TogglePrev.vue'\r\nimport ToggleNext from '@/components/ToggleNext.vue'\r\nimport SaveTrack from '@/components/SaveTrack.vue'\r\n\r\n@Component({\r\n  components: { TogglePausePlay, ToggleShuffle, ToggleRepeat, TogglePrev, ToggleNext, SaveTrack }\r\n})\r\nexport default class PlayerControls extends Vue {\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  get playerInfo () {\r\n    return this.$store.state.playerInfo\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayerControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlayerControls.vue?vue&type=template&id=55d5de7e&scoped=true&\"\nimport script from \"./PlayerControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlayerControls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlayerControls.vue?vue&type=style&index=0&id=55d5de7e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55d5de7e\",\n  null\n  \n)\n\nexport default component.exports","import Axios from 'axios'\r\nimport router from '@/router'\r\n\r\nexport class SpotifyAnalysis {\r\n  loaded: boolean\r\n  trackFeatures!: SpotifyApi.AudioFeaturesResponse;\r\n  trackAnalysis!: SpotifyApi.AudioAnalysisResponse;\r\n  g_section!: number;\r\n  g_bar!: number;\r\n  g_beat!: number;\r\n  g_tatum!: number;\r\n  g_segment!: number;\r\n  g_timbre!: number[];\r\n  g_pitches!: number[];\r\n  g_sections: any;\r\n  g_bars!: any;\r\n  g_beats!: any;\r\n  g_tatums!: any;\r\n  g_segments!: any;\r\n  barCounter!: number;\r\n  beatCounter!: number;\r\n  tatumCounter!: number;\r\n  beatAv!: number;\r\n  beatVariance!: number;\r\n  tatumAv!: number;\r\n  tatumVariance!: number;\r\n  changeColour: boolean\r\n  private changeMode: boolean;\r\n\r\n  constructor () {\r\n    this.resetTrackVariables()\r\n    this.changeColour = false\r\n    this.changeMode = false\r\n    this.loaded = false\r\n  }\r\n\r\n  /** Get Track Analysis from Spotify Api */\r\n\r\n  getTrackFeaturesAnalysis (accessToken: string, trackID: string) {\r\n    this.getTrackAnalysis(accessToken, trackID)\r\n    this.getTrackFeatures(accessToken, trackID)\r\n  }\r\n\r\n  getTrackFeatures (accessToken: string, trackID: string) {\r\n    console.log('=== track Features ====')\r\n    Axios.get(`https://api.spotify.com/v1/audio-features/${trackID}`, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      this.trackFeatures = res.data\r\n    }).catch((error) => {\r\n      console.log(error)\r\n      if (error.code === 401) {\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        this.getTrackFeatures(accessToken, trackID)\r\n      }\r\n    })\r\n  }\r\n\r\n  getTrackAnalysis (accessToken: string, trackID: string) {\r\n    console.log('=== track Analysis ====')\r\n    Axios.get(`https://api.spotify.com/v1/audio-analysis/${trackID}`, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      this.trackAnalysis = res.data\r\n      this.setTrackAnalysisParts(res.data)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n      if (error.code === 401) {\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        this.getTrackAnalysis(accessToken, trackID)\r\n      }\r\n    })\r\n  }\r\n\r\n  /** Update Analysis from trackCounter */\r\n\r\n  changeAnalysis (trackCounter: number) {\r\n    trackCounter = trackCounter / 1000\r\n    this.changeSection(trackCounter)\r\n    this.changeBar(trackCounter)\r\n    this.changeBeat(trackCounter)\r\n    this.changeTatum(trackCounter)\r\n    this.changeSegment(trackCounter)\r\n  }\r\n\r\n  private changeSection (trackCounter: number) {\r\n    if (this.g_sections[this.g_section]) {\r\n      const sectionEnd = this.g_sections[this.g_section].start + this.g_sections[this.g_section].duration\r\n      if (trackCounter > sectionEnd) {\r\n        this.changeMode = true\r\n        this.g_section++\r\n      }\r\n    }\r\n  }\r\n\r\n  private changeBar (trackCounter: number) {\r\n    if (this.g_bars[this.g_bar]) {\r\n      const barEnd = this.g_bars[this.g_bar].start + this.g_bars[this.g_bar].duration\r\n      if (trackCounter > barEnd) {\r\n        const barConfidence = this.g_bars[this.g_bar].confidence\r\n        this.g_bar++\r\n        if (barConfidence > 0.5) {\r\n          console.log('## bar ##')\r\n          this.barCounter++\r\n          this.changeColour = true\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private changeBeat (trackCounter: number) {\r\n    if (this.g_beats[this.g_beat]) {\r\n      const beatEnd = this.g_beats[this.g_beat].start + this.g_beats[this.g_beat].duration\r\n      if (trackCounter > beatEnd) {\r\n        const beatConfidence = this.g_beats[this.g_beat].confidence\r\n        this.g_beat++\r\n        if (beatConfidence > (this.beatAv + this.beatVariance)) {\r\n          console.log('## beat ##')\r\n          this.beatCounter++\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private changeTatum (trackCounter: number) {\r\n    if (this.g_tatums[this.g_tatum]) {\r\n      const tatumEnd = this.g_tatums[this.g_tatum].start + this.g_tatums[this.g_tatum].duration\r\n      if (trackCounter > tatumEnd) {\r\n        const tatumConfidence = this.g_tatums[this.g_tatum].confidence\r\n        this.g_tatum++\r\n        if (tatumConfidence > (this.tatumAv - this.tatumVariance)) {\r\n          this.tatumCounter++\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private changeSegment (trackCounter: number) {\r\n    if (this.g_segments[this.g_segment]) {\r\n      const segmentEnd = this.g_segments[this.g_segment].start + this.g_segments[this.g_segment].duration\r\n      if (trackCounter > segmentEnd) {\r\n        this.g_segment++\r\n        this.g_timbre = this.g_segments[this.g_segment].timbre\r\n        this.g_pitches = this.g_segments[this.g_segment].pitches\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Set Track Analysis Helpers */\r\n\r\n  private setTrackAnalysisParts (trackData: any) {\r\n    this.resetTrackVariables()\r\n    this.setSections(trackData.sections)\r\n    this.setBars(trackData.bars)\r\n    this.setBeats(trackData.beats)\r\n    this.setTatums(trackData.tatums)\r\n    this.setSegments(trackData.segments)\r\n    this.calculateTrackDeviation()\r\n    this.loaded = true\r\n  }\r\n\r\n  private calculateBeatDeviation () {\r\n    this.beatVariance = 0\r\n    this.beatAv = this.g_beats[0].confidence\r\n    let d = 0\r\n    for (let i = 1; i < this.g_beats.length; i++) {\r\n      d = this.g_beats[i].confidence - this.beatAv\r\n      this.beatAv += d / this.g_beats.length\r\n      this.beatVariance += d * (this.g_beats[i].confidence - this.beatAv)\r\n    }\r\n    this.beatVariance = this.beatVariance / (this.g_beats.length - 1)\r\n    this.beatVariance = this.beatVariance * (1 + this.trackFeatures.valence)\r\n\r\n    console.log(`beatAv = ${this.beatAv}`)\r\n    console.log(`beatVar = ${this.beatVariance}`)\r\n  }\r\n\r\n  private calculateTatumDeviation () {\r\n    this.tatumVariance = 0\r\n    this.tatumAv = this.g_tatums[0].confidence\r\n    let d = 0\r\n    for (let i = 1; i < this.g_tatums.length; i++) {\r\n      d = this.g_tatums[i].confidence - this.tatumAv\r\n      this.tatumAv += d / this.g_tatums.length\r\n      this.tatumVariance += d * (this.g_tatums[i].confidence - this.tatumAv)\r\n    }\r\n    this.tatumVariance = this.tatumVariance / (this.g_tatums.length - 1)\r\n    this.tatumVariance = this.tatumVariance * (1.5 + this.trackFeatures.valence)\r\n\r\n    console.log(`tatumAv = ${this.tatumAv}`)\r\n    console.log(`tatumVar = ${this.tatumVariance}`)\r\n  }\r\n\r\n  private calculateTrackDeviation () {\r\n    this.calculateBeatDeviation()\r\n    this.calculateTatumDeviation()\r\n  }\r\n\r\n  private resetTrackVariables () {\r\n    this.g_sections = []\r\n    this.g_bars = []\r\n    this.g_beats = []\r\n    this.g_tatums = []\r\n    this.g_segments = []\r\n\r\n    this.g_section = 0\r\n    this.g_bar = 0\r\n    this.g_beat = 0\r\n    this.g_tatum = 0\r\n    this.g_segment = 0\r\n\r\n    this.g_pitches = []\r\n    this.g_pitches = []\r\n\r\n    this.barCounter = 0\r\n    this.beatCounter = 0\r\n    this.tatumCounter = 0\r\n\r\n    this.beatAv = 0\r\n    this.beatVariance = 0\r\n    this.tatumAv = 0\r\n    this.tatumVariance = 0\r\n  }\r\n\r\n  private setSections (sections: any) {\r\n    this.g_sections = sections\r\n  }\r\n\r\n  private setBars (bars: any) {\r\n    this.g_bars = bars\r\n  }\r\n\r\n  private setBeats (beats: any) {\r\n    this.g_beats = beats\r\n  }\r\n\r\n  private setTatums (tatums: any) {\r\n    this.g_tatums = tatums\r\n  }\r\n\r\n  private setSegments (segments: any) {\r\n    this.g_segments = segments\r\n  }\r\n}\r\n\r\nexport class SpotifyPlayer {\r\n  pausePlayer (accessToken: string) {\r\n    console.log('=== pausing player ====')\r\n    Axios.put('https://api.spotify.com/v1/me/player/pause', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  playPlayer (accessToken: string) {\r\n    console.log('=== playing player ====')\r\n    Axios.put('https://api.spotify.com/v1/me/player/play', {}, {\r\n      headers: { Authorization: 'Bearer ' + accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { getCookie, setCookie } from '@/services/cookie-utils'\r\nimport { addTrackPlayed, addArtistsPlayed, firebaseRef } from '@/services/firebase-utils'\r\nimport TrackItem from '@/components/TrackItem.vue'\r\nimport SeekTrack from '@/components/SeekTrack.vue'\r\nimport PlayerControls from '@/components/PlayerControls.vue'\r\nimport { SpotifyAnalysis } from '@/services/spotify-utils'\r\n\r\n@Component({\r\n  components: { TrackItem, SeekTrack, PlayerControls }\r\n})\r\nexport default class Player extends Vue {\r\n  private hidePlayerToggle: boolean;\r\n\r\n  constructor () {\r\n    super()\r\n    this.hidePlayerToggle = false\r\n  }\r\n\r\n  get SpotifyAnalysisUtils () {\r\n    return this.$store.state.spotifyAnalysisUtils\r\n  }\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  get playerInfo () {\r\n    return this.$store.state.playerInfo\r\n  }\r\n\r\n  get user () {\r\n    return this.$store.state.user\r\n  }\r\n\r\n  hidePlayer () {\r\n    this.hidePlayerToggle = true\r\n  }\r\n\r\n  showPlayer () {\r\n    this.hidePlayerToggle = false\r\n  }\r\n\r\n  created (): void {\r\n    if (!this.SpotifyAnalysisUtils) {\r\n      this.$store.commit('mutateSpotifyAnalysisUtils', new SpotifyAnalysis())\r\n    }\r\n  }\r\n\r\n  mounted (): void {\r\n    if (!document.getElementById('spotify-sdk')) {\r\n      const sdk = document.createElement('script')\r\n      sdk.setAttribute(\r\n        'src',\r\n        'https://sdk.scdn.co/spotify-player.js'\r\n      )\r\n      sdk.id = 'spotify-sdk'\r\n      sdk.async = true\r\n      this.sdkInit()\r\n      document.head.appendChild(sdk)\r\n    }\r\n  }\r\n\r\n  addPlayerListeners (player: Spotify.SpotifyPlayer): void {\r\n    player.addListener('initialization_error', data => {\r\n      console.log('initialization_error')\r\n      console.log(data)\r\n    })\r\n    player.addListener('authentication_error', data => {\r\n      console.log('authentication_error')\r\n      console.log(data)\r\n    })\r\n    player.addListener('account_error', data => {\r\n      console.log('account_error')\r\n      console.log(data)\r\n    })\r\n    player.addListener('playback_error', data => {\r\n      console.log('playback_error')\r\n      console.log(data)\r\n    })\r\n    player.addListener('ready', data => {\r\n      console.log('Ready with deviceID ', data.device_id)\r\n      this.$store.commit('mutateDeviceID', data.device_id)\r\n      this.playRandomTrack(data.device_id)\r\n    })\r\n    player.addListener('player_state_changed', data => {\r\n      console.log('player state changed')\r\n      console.log(data)\r\n      this.$store.commit('mutatePlayerInfo', data)\r\n      if (data && data.position === 0) {\r\n        console.log(data)\r\n        this.getPlayerTrack()\r\n      }\r\n    })\r\n  }\r\n\r\n  sdkInit (): void {\r\n    console.log('sdkInit')\r\n    window.onSpotifyWebPlaybackSDKReady = () => {\r\n      const player = new window.Spotify.Player({\r\n        name: 'Visualizer Player',\r\n        getOAuthToken: cb => { cb(this.$store.state.accessToken) }\r\n      })\r\n      this.addPlayerListeners(player)\r\n      player.connect()\r\n    }\r\n  }\r\n\r\n  private refreshAccessToken () {\r\n    Vue.axios.post('/refreshToken', {\r\n      refreshToken: this.$store.state.refreshToken\r\n    }).then(response => {\r\n      setCookie('accessToken', response.data.access_token)\r\n      this.$store.commit('mutateAccessToken', getCookie('accessToken'))\r\n    })\r\n  }\r\n\r\n  private play (device_id: string, track: string): void {\r\n    console.log(track)\r\n    console.log(device_id)\r\n    Vue.axios.put(`https://api.spotify.com/v1/me/player/play?device_id=${device_id}`, {\r\n      uris: [track]\r\n    }, {\r\n      headers: { Authorization: 'Bearer ' + this.$store.state.accessToken }\r\n    }).then(res => {\r\n      console.log(res)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n      this.refreshAccessToken()\r\n    })\r\n  }\r\n\r\n  private playRandomTrack (device_id: string) {\r\n    Vue.axios.get('https://api.spotify.com/v1/me/top/tracks', {\r\n      headers: { Authorization: 'Bearer ' + this.$store.state.accessToken }\r\n    }).then(response => {\r\n      const randomTrack = response.data.items[Math.floor(Math.random() * 20)].uri\r\n      this.play(device_id, randomTrack)\r\n    })\r\n  }\r\n\r\n  private getPlayerTrack () {\r\n    Vue.axios.get('https://api.spotify.com/v1/me/player', {\r\n      headers: { Authorization: 'Bearer ' + this.$store.state.accessToken }\r\n    }).then(response => {\r\n      if (response.data) {\r\n        console.log('has new track DATA')\r\n        console.log(response.data)\r\n        // Get Audio Analysis from Spotify\r\n        if (this.SpotifyAnalysisUtils) {\r\n          this.SpotifyAnalysisUtils.getTrackFeaturesAnalysis(this.accessToken, this.$store.state.playerInfo.track_window.current_track.id)\r\n        } else {\r\n          console.log('SpotifyAnalysisUtils doesnt exist')\r\n        }\r\n        // send firebase Data as lastPlayed under /users/{uid}\r\n        this.sendTrackData(response.data.item)\r\n        // send to firestore\r\n        addTrackPlayed(response.data.item, this.$store.state.user.id)\r\n        addArtistsPlayed(response.data.item, this.$store.state.user.id)\r\n      }\r\n    }).catch(error => {\r\n      console.log(error)\r\n      this.refreshAccessToken()\r\n    })\r\n  }\r\n\r\n  private sendTrackData (trackInfo: SpotifyApi.TrackLinkObject) {\r\n    const userID: string = this.$store.state.user.id\r\n    const ref = firebaseRef.firebase.database().ref(`users/${userID}/lastPlayed`)\r\n    ref.set(trackInfo)\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=27c94972&scoped=true&\"\nimport script from \"./Player.vue?vue&type=script&lang=ts&\"\nexport * from \"./Player.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Player.vue?vue&type=style&index=0&id=27c94972&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27c94972\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container-child\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(this.user)?_c('div',{key:\"myPlaylistsTitle\",staticClass:\"playlists-title\"},[_c('h3',[_vm._v(\"Your Playlists\")])]):_vm._e()]),_c('transition',{attrs:{\"name\":\"fadeLeft\",\"mode\":\"out-in\"}},[(this.userPlaylists)?_c('div',{key:\"myPlaylistsContainer\",staticClass:\"playlists-container\"},_vm._l((_vm.userPlaylists.items),function(item,i){return _c('div',{key:item + i},[_c('UserPlaylist',{attrs:{\"playlistDetails\":item,\"userID\":_vm.user.id}})],1)}),0):_c('div',[_c('fingerprint-spinner',{attrs:{\"animation-duration\":1500,\"size\":64,\"color\":\"#FFF\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\nimport UserPlaylist from '@/components/UserPlaylist.vue'\r\nimport { FingerprintSpinner } from 'epic-spinners'\r\n\r\n@Component({\r\n  components: { UserPlaylist, FingerprintSpinner }\r\n})\r\nexport default class MyPlaylists extends Vue {\r\n  get userPlaylists () {\r\n    return this.$store.state.userPlaylists\r\n  }\r\n\r\n  get user () {\r\n    return this.$store.state.user\r\n  }\r\n\r\n  constructor () {\r\n    super()\r\n    console.log('loaded playlists')\r\n    this.getThisUsersPlaylists()\r\n  }\r\n\r\n  private getThisUsersPlaylists () {\r\n    console.log('get')\r\n    Vue.axios.get('https://api.spotify.com/v1/me/playlists', {\r\n      headers: {\r\n        Authorization: 'Bearer ' + this.$store.state.accessToken\r\n      }\r\n    }).then((response) => {\r\n      console.log(response.data.items)\r\n      this.$store.commit('mutateUserPlaylists', response.data)\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPlaylists.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPlaylists.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MyPlaylists.vue?vue&type=template&id=978fe300&scoped=true&\"\nimport script from \"./MyPlaylists.vue?vue&type=script&lang=ts&\"\nexport * from \"./MyPlaylists.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MyPlaylists.vue?vue&type=style&index=0&id=978fe300&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"978fe300\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sceneContainer\"},[_c('div',{ref:\"sceneRef\",staticClass:\"scene\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default class LiveAudio {\r\n  private analyser: AnalyserNode;\r\n  private source: MediaStreamAudioSourceNode | null;\r\n  frequencyData: Uint8Array;\r\n  private bufferLength: number;\r\n  private context: AudioContext;\r\n  bassObject: {\r\n    bassDeviation: number;\r\n    bassAv: number;\r\n    bassArrCounter: number;\r\n    bassEnergy: number;\r\n    lower: number;\r\n    upper: number;\r\n    bassArr: number[];\r\n  };\r\n\r\n  midsObject: {\r\n    midsAv: number;\r\n    midsDeviation: number;\r\n    midsArrCounter: number;\r\n    midsEnergy: number;\r\n    lower: number;\r\n    upper: number;\r\n    midsArr: number[];\r\n  };\r\n\r\n  highsObject: {\r\n    highsAv: number;\r\n    highsDeviation: number;\r\n    highsArrCounter: number;\r\n    highsEnergy: number;\r\n    lower: number;\r\n    upper: number;\r\n    highsArr: any[];\r\n  };\r\n\r\n  kickObject: {\r\n    kickDeviation: number;\r\n    kickAv: number;\r\n    kickArrCounter: number;\r\n    kickEnergy: number;\r\n    lower: number;\r\n    upper: number;\r\n    kickArr: any[];\r\n  };\r\n\r\n  snareObject: {\r\n    snareDeviation: number;\r\n    snareAv: number;\r\n    snareArrCounter: number;\r\n    snareEnergy: number;\r\n    lower: number;\r\n    upper: number;\r\n    snareArr: any[];\r\n  };\r\n\r\n  avFreq: number;\r\n  peak: number;\r\n  rms: number;\r\n\r\n  constructor () {\r\n    this.bassObject = {\r\n      bassDeviation: 0,\r\n      bassAv: 0,\r\n      bassArrCounter: 0,\r\n      bassEnergy: 0,\r\n      bassArr: [],\r\n      lower: 0,\r\n      upper: 4\r\n    }\r\n    this.kickObject = {\r\n      kickDeviation: 0,\r\n      kickAv: 0,\r\n      kickEnergy: 0,\r\n      kickArrCounter: 0,\r\n      kickArr: [],\r\n      lower: 1,\r\n      upper: 3\r\n    }\r\n    this.snareObject = {\r\n      snareDeviation: 0,\r\n      snareAv: 0,\r\n      snareEnergy: 0,\r\n      snareArrCounter: 0,\r\n      snareArr: [],\r\n      lower: 2,\r\n      upper: 4\r\n    }\r\n    this.midsObject = {\r\n      midsDeviation: 0,\r\n      midsAv: 0,\r\n      midsEnergy: 0,\r\n      midsArrCounter: 0,\r\n      midsArr: [],\r\n      lower: 4,\r\n      upper: 18\r\n    }\r\n    this.highsObject = {\r\n      highsDeviation: 0,\r\n      highsAv: 0,\r\n      highsEnergy: 0,\r\n      highsArrCounter: 0,\r\n      highsArr: [],\r\n      lower: 32,\r\n      upper: 128\r\n    }\r\n    this.avFreq = 0\r\n    this.peak = 0\r\n    this.rms = 0\r\n    // Creates the context\r\n    this.context = new AudioContext()\r\n    // create analyser\r\n    this.analyser = this.context.createAnalyser()\r\n    this.analyser.fftSize = 256\r\n    this.analyser.smoothingTimeConstant = 0.85\r\n    this.frequencyData = new Uint8Array(this.analyser.frequencyBinCount)\r\n    this.bufferLength = this.analyser.frequencyBinCount\r\n    this.analyser.minDecibels = -90\r\n    this.analyser.maxDecibels = -25\r\n    this.source = null\r\n\r\n    if (navigator.mediaDevices.getUserMedia) {\r\n      console.log('navigator.mediaDevices supported.')\r\n      navigator.mediaDevices.enumerateDevices().then((devices) => {\r\n        devices = devices.filter((d) => d.kind === 'audiooutput')\r\n        console.log(devices)\r\n        const constraints = { audio: { deviceId: 'default' } }\r\n        navigator.mediaDevices.getUserMedia(constraints).then((stream) => {\r\n          console.log(stream)\r\n          // attach source to the mic\r\n          this.source = this.context.createMediaStreamSource(stream)\r\n          // connect source to the analyser\r\n          this.source.connect(this.analyser)\r\n        })\r\n      }).catch(function (err) {\r\n        console.log('The following error occured: ' + err)\r\n      })\r\n    } else {\r\n      console.log('getUserMedia not supported on your browser!')\r\n    }\r\n  }\r\n\r\n  resetData () {\r\n    this.bassObject.bassEnergy = 0\r\n    this.kickObject.kickEnergy = 0\r\n    this.snareObject.snareEnergy = 0\r\n    this.midsObject.midsEnergy = 0\r\n    this.highsObject.highsEnergy = 0\r\n    this.avFreq = 0\r\n    this.rms = 0\r\n    this.peak = 0\r\n    this.bassObject.bassAv = 0\r\n    this.bassObject.bassDeviation = 0\r\n    this.kickObject.kickAv = 0\r\n    this.kickObject.kickDeviation = 0\r\n    this.snareObject.snareAv = 0\r\n    this.snareObject.snareDeviation = 0\r\n    this.midsObject.midsAv = 0\r\n    this.midsObject.midsDeviation = 0\r\n    this.highsObject.highsAv = 0\r\n    this.highsObject.highsDeviation = 0\r\n  }\r\n\r\n  getData () {\r\n    this.resetData()\r\n    this.analyser.getByteFrequencyData(this.frequencyData)\r\n    // console.log(this.frequencyData)\r\n    this.getBassData()\r\n    this.getKickData()\r\n    this.getSnareData()\r\n    this.getMidsData()\r\n    this.getHighsData()\r\n    this.getDeviations()\r\n\r\n    this.getAvFreq()\r\n  }\r\n\r\n  getAvFreq () {\r\n    for (let i = 0; i < this.bufferLength; i++) {\r\n      this.avFreq += this.frequencyData[i]\r\n      this.rms += this.frequencyData[i] * this.frequencyData[i]\r\n      if (this.frequencyData[i] > this.peak) {\r\n        this.peak = this.frequencyData[i]\r\n      }\r\n    }\r\n    this.avFreq = this.avFreq / this.bufferLength\r\n    this.rms = Math.sqrt(this.rms / this.bufferLength)\r\n  }\r\n\r\n  getBassData () {\r\n    for (let i = this.bassObject.lower; i < this.bassObject.upper; i++) {\r\n      this.bassObject.bassEnergy += this.frequencyData[i]\r\n    }\r\n    this.bassObject.bassEnergy = this.bassObject.bassEnergy / (this.bassObject.upper - this.bassObject.lower)\r\n    this.bassObject.bassArr[this.bassObject.bassArrCounter++] = this.bassObject.bassEnergy\r\n    if (this.bassObject.bassArrCounter >= 32) {\r\n      this.bassObject.bassArrCounter = 0\r\n    }\r\n  }\r\n\r\n  getKickData () {\r\n    for (let i = this.kickObject.lower; i < this.kickObject.upper; i++) {\r\n      this.kickObject.kickEnergy += this.frequencyData[i]\r\n    }\r\n    this.kickObject.kickEnergy = this.kickObject.kickEnergy / (this.kickObject.upper - this.kickObject.lower)\r\n    this.kickObject.kickArr[this.kickObject.kickArrCounter++] = this.kickObject.kickEnergy\r\n    if (this.kickObject.kickArrCounter >= 32) {\r\n      this.kickObject.kickArrCounter = 0\r\n    }\r\n  }\r\n\r\n  getSnareData () {\r\n    for (let i = this.snareObject.lower; i < this.snareObject.upper; i++) {\r\n      this.snareObject.snareEnergy += this.frequencyData[i]\r\n    }\r\n    this.snareObject.snareEnergy = this.snareObject.snareEnergy / (this.snareObject.upper - this.snareObject.lower)\r\n    this.snareObject.snareArr[this.snareObject.snareArrCounter++] = this.snareObject.snareEnergy\r\n    if (this.snareObject.snareArrCounter >= 32) {\r\n      this.snareObject.snareArrCounter = 0\r\n    }\r\n  }\r\n\r\n  private getMidsData () {\r\n    for (let i = this.midsObject.lower; i < this.midsObject.upper; i++) {\r\n      this.midsObject.midsEnergy += this.frequencyData[i]\r\n    }\r\n    this.midsObject.midsEnergy = this.midsObject.midsEnergy / (this.midsObject.upper - this.midsObject.lower)\r\n    this.midsObject.midsArr[this.midsObject.midsArrCounter++] = this.midsObject.midsEnergy\r\n    if (this.midsObject.midsArrCounter >= 32) {\r\n      this.midsObject.midsArrCounter = 0\r\n    }\r\n  }\r\n\r\n  private getHighsData () {\r\n    for (let i = this.highsObject.lower; i < this.highsObject.upper; i++) {\r\n      this.highsObject.highsEnergy += this.frequencyData[i]\r\n    }\r\n    this.highsObject.highsEnergy = this.highsObject.highsEnergy / (this.highsObject.upper - this.highsObject.lower)\r\n    this.highsObject.highsArr[this.highsObject.highsArrCounter++] = this.highsObject.highsEnergy\r\n    if (this.highsObject.highsArrCounter >= 32) {\r\n      this.highsObject.highsArrCounter = 0\r\n    }\r\n  }\r\n\r\n  private getDeviations () {\r\n    for (let i = 0; i < this.bassObject.bassArr.length; i++) {\r\n      this.bassObject.bassAv += this.bassObject.bassArr[i]\r\n      this.bassObject.bassDeviation += this.bassObject.bassArr[i] * this.bassObject.bassArr[i]\r\n\r\n      this.kickObject.kickAv += this.kickObject.kickArr[i]\r\n      this.kickObject.kickDeviation += this.kickObject.kickArr[i] * this.kickObject.kickArr[i]\r\n\r\n      this.snareObject.snareAv += this.snareObject.snareArr[i]\r\n      this.snareObject.snareDeviation += this.snareObject.snareArr[i] * this.snareObject.snareArr[i]\r\n\r\n      this.midsObject.midsAv += this.midsObject.midsArr[i]\r\n      this.midsObject.midsDeviation += this.midsObject.midsArr[i] * this.midsObject.midsArr[i]\r\n\r\n      this.highsObject.highsAv += this.highsObject.highsArr[i]\r\n      this.highsObject.highsDeviation += this.highsObject.highsArr[i] * this.highsObject.highsArr[i]\r\n    }\r\n\r\n    this.bassObject.bassAv = this.bassObject.bassAv / this.bassObject.bassArr.length\r\n    this.bassObject.bassDeviation = Math.sqrt(this.bassObject.bassDeviation / this.bassObject.bassArr.length - this.bassObject.bassAv * this.bassObject.bassAv)\r\n\r\n    this.kickObject.kickAv = this.kickObject.kickAv / this.kickObject.kickArr.length\r\n    this.kickObject.kickDeviation = Math.sqrt(this.kickObject.kickDeviation / this.kickObject.kickArr.length - this.kickObject.kickAv * this.kickObject.kickAv)\r\n\r\n    this.snareObject.snareAv = this.snareObject.snareAv / this.snareObject.snareArr.length\r\n    this.snareObject.snareDeviation = Math.sqrt(this.snareObject.snareDeviation / this.snareObject.snareArr.length - this.snareObject.snareAv * this.snareObject.snareAv)\r\n\r\n    this.midsObject.midsAv = this.midsObject.midsAv / this.midsObject.midsArr.length\r\n    this.midsObject.midsDeviation = Math.sqrt(this.midsObject.midsDeviation / this.midsObject.midsArr.length - this.midsObject.midsAv * this.midsObject.midsAv)\r\n\r\n    this.highsObject.highsAv = this.highsObject.highsAv / this.highsObject.highsArr.length\r\n    this.highsObject.highsDeviation = Math.sqrt(this.highsObject.highsDeviation / this.highsObject.highsArr.length - this.highsObject.highsAv * this.highsObject.highsAv)\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport LiveAudio from '@/services/liveAudio-utils'\r\nimport * as THREE from 'three'\r\nimport SimplexNoise from 'simplex-noise'\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\nimport { AfterimagePass } from 'three/examples/jsm/postprocessing/AfterimagePass'\r\n\r\n@Component\r\nexport default class VisualizerCanvas extends Vue {\r\n  static liveAudio: LiveAudio;\r\n  static noise: SimplexNoise;\r\n  static scene: THREE.Scene;\r\n  static camera: THREE.PerspectiveCamera;\r\n  static renderer: THREE.WebGLRenderer;\r\n  static composer: EffectComposer\r\n  static shapeArr: THREE.Mesh[];\r\n  static shapeMax: number;\r\n  static layerMarker: number[];\r\n  static shapeColour: string;\r\n  static freqKey: number;\r\n  static spinConstants: number[];\r\n  private changingMode!: boolean;\r\n  private animationID!: number;\r\n  private rotateShapeToggle: boolean;\r\n\r\n  constructor () {\r\n    super()\r\n    VisualizerCanvas.liveAudio = new LiveAudio()\r\n    VisualizerCanvas.noise = new SimplexNoise()\r\n    VisualizerCanvas.camera = new THREE.PerspectiveCamera()\r\n    VisualizerCanvas.renderer = new THREE.WebGLRenderer({ antialias: true })\r\n    VisualizerCanvas.scene = new THREE.Scene()\r\n    VisualizerCanvas.shapeArr = []\r\n    VisualizerCanvas.shapeMax = 529\r\n    VisualizerCanvas.layerMarker = []\r\n    VisualizerCanvas.shapeColour = '#FFF'\r\n    VisualizerCanvas.freqKey = 4\r\n    VisualizerCanvas.spinConstants = [0.03, 0.015, 0.075, 0.0025, 0.001]\r\n    this.rotateShapeToggle = false\r\n  }\r\n\r\n  get CameraZoomToggle () {\r\n    return this.$store.state.cameraZoomToggle\r\n  }\r\n\r\n  get CameraRotateToggle () {\r\n    return this.$store.state.cameraRotateToggle\r\n  }\r\n\r\n  get RandomMode () {\r\n    return this.$store.state.randomMode\r\n  }\r\n\r\n  get RandomColour () {\r\n    return this.$store.state.randomMode\r\n  }\r\n\r\n  get ModeKey () {\r\n    return this.$store.state.modeKey\r\n  }\r\n\r\n  get ColourKey () {\r\n    return this.$store.state.colourKey\r\n  }\r\n\r\n  get SpotifyAnalysisUtils () {\r\n    return this.$store.state.spotifyAnalysisUtils\r\n  }\r\n\r\n  get accessToken () {\r\n    return this.$store.state.accessToken\r\n  }\r\n\r\n  get PlayerInfo () {\r\n    return this.$store.state.playerInfo\r\n  }\r\n\r\n  get TrackTime () {\r\n    return this.$store.state.trackPosition\r\n  }\r\n\r\n  mounted () {\r\n    if (VisualizerCanvas.shapeArr.length === 0) {\r\n      console.log('Empty visualizer')\r\n      this.setupVisualizer()\r\n    }\r\n    this.$store.commit('mutateModeKey', 1)\r\n    this.$store.commit('mutateColourKey', 1)\r\n    this.$gtag.pageview({\r\n      page_title: 'Visualizer',\r\n      page_path: '/visualizer',\r\n      page_location: '/visualizer'\r\n    })\r\n    // stats\r\n    // this.stats = new (Stats as any)()\r\n    // document.body.appendChild(this.stats.dom)\r\n  }\r\n\r\n  beforeDestroy () {\r\n    this.removeShape()\r\n    cancelAnimationFrame(this.animationID)\r\n  }\r\n\r\n  private setupVisualizer () {\r\n    this.changingMode = true\r\n    const el = this.$refs.sceneRef as Element\r\n    this.$nextTick(() => {\r\n      VisualizerCanvas.camera = new THREE.PerspectiveCamera(75, el.clientWidth / el.clientHeight, 0.1, 1000)\r\n      VisualizerCanvas.renderer.setSize(el.clientWidth, el.clientHeight)\r\n      VisualizerCanvas.camera.aspect = el.clientWidth / el.clientHeight\r\n      console.log(el.children)\r\n      el.appendChild(VisualizerCanvas.renderer.domElement)\r\n      this.canvasResizeListener(el)\r\n\r\n      this.addLighting()\r\n      this.addOcean()\r\n      VisualizerCanvas.camera.position.z = 90\r\n\r\n      // postprocessing\r\n      VisualizerCanvas.composer = new EffectComposer(VisualizerCanvas.renderer)\r\n      VisualizerCanvas.composer.addPass(new RenderPass(VisualizerCanvas.scene, VisualizerCanvas.camera))\r\n      const afterimagePass = new AfterimagePass()\r\n      VisualizerCanvas.composer.addPass(afterimagePass)\r\n\r\n      this.changingMode = false\r\n      this.animate()\r\n    })\r\n  }\r\n\r\n  private animate () {\r\n    this.animationID = requestAnimationFrame(this.animate)\r\n\r\n    this.renderer()\r\n  }\r\n\r\n  private renderer () {\r\n    if (this.SpotifyAnalysisUtils.loaded) {\r\n      // Live Audio\r\n      VisualizerCanvas.liveAudio.getData()\r\n\r\n      if (!this.PlayerInfo.paused && !this.changingMode) {\r\n        if (this.RandomColour) {\r\n          this.changeColourKey()\r\n        }\r\n\r\n        if (this.RandomMode) {\r\n          this.changeModeKey()\r\n        }\r\n\r\n        // Colour\r\n        this.setColour(this.ColourKey, this.SpotifyAnalysisUtils)\r\n\r\n        if (this.CameraRotateToggle) {\r\n          this.rotateCamera()\r\n        }\r\n        if (this.CameraZoomToggle) {\r\n          this.zoomCamera()\r\n        }\r\n        // Mode\r\n        this.doMode(this.ModeKey, this.SpotifyAnalysisUtils)\r\n\r\n        if (this.rotateShapeToggle) {\r\n          for (let i = 0; i < VisualizerCanvas.shapeArr.length; i++) {\r\n            this.rotateShape(VisualizerCanvas.shapeArr[i])\r\n          }\r\n        }\r\n      } else {\r\n        console.log('pausing player')\r\n      }\r\n    } else {\r\n      console.log('no track features')\r\n    }\r\n\r\n    VisualizerCanvas.camera.updateProjectionMatrix()\r\n    if (this.ModeKey > 2) {\r\n      (VisualizerCanvas.composer.passes[1] as any).uniforms.damp.value = Math.min(0.92, VisualizerCanvas.liveAudio.kickObject.kickEnergy / 255)\r\n      VisualizerCanvas.composer.render()\r\n    } else {\r\n      (VisualizerCanvas.composer.passes[1] as any).uniforms.damp.value = Math.min(0.82, VisualizerCanvas.liveAudio.bassObject.bassEnergy / 255)\r\n      VisualizerCanvas.composer.render()\r\n    }\r\n  }\r\n\r\n  private mode4 (SpotifyAnalysisUtils: any) {\r\n    if (SpotifyAnalysisUtils.barCounter > 3) {\r\n      for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 4]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 3]; i++) {\r\n        this.changeColour(VisualizerCanvas.shapeArr[i], '0x0000')\r\n      }\r\n      for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 2]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter]; i++) {\r\n        this.changeColour(VisualizerCanvas.shapeArr[i], VisualizerCanvas.shapeColour)\r\n      }\r\n    } else {\r\n      if (SpotifyAnalysisUtils.beatCounter !== 0) {\r\n        for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 1]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter]; i++) {\r\n          this.changeColour(VisualizerCanvas.shapeArr[i], VisualizerCanvas.shapeColour)\r\n        }\r\n      }\r\n      this.changeColour(VisualizerCanvas.shapeArr[0], VisualizerCanvas.shapeColour)\r\n    }\r\n\r\n    if (SpotifyAnalysisUtils.beatCounter > VisualizerCanvas.layerMarker.length - 1) {\r\n      SpotifyAnalysisUtils.beatCounter = 0\r\n    }\r\n  }\r\n\r\n  private mode5 (SpotifyAnalysisUtils: any) {\r\n    if (SpotifyAnalysisUtils.beatCounter > 3) {\r\n      for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 4]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 3]; i = i + 2) {\r\n        this.changeColour(VisualizerCanvas.shapeArr[i], '0x0000')\r\n      }\r\n      for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 2]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter]; i = i + 2) {\r\n        this.changeColour(VisualizerCanvas.shapeArr[i], VisualizerCanvas.shapeColour)\r\n      }\r\n    } else {\r\n      if (SpotifyAnalysisUtils.beatCounter !== 0) {\r\n        for (let i = VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter - 1]; i < VisualizerCanvas.layerMarker[SpotifyAnalysisUtils.beatCounter]; i = i + 2) {\r\n          this.changeColour(VisualizerCanvas.shapeArr[i], VisualizerCanvas.shapeColour)\r\n        }\r\n      } else {\r\n        this.changeColour(VisualizerCanvas.shapeArr[0], VisualizerCanvas.shapeColour)\r\n      }\r\n    }\r\n\r\n    if (SpotifyAnalysisUtils.beatCounter > VisualizerCanvas.layerMarker.length - 1) {\r\n      SpotifyAnalysisUtils.beatCounter = 0\r\n    }\r\n  }\r\n\r\n  private mode1 (SpotifyAnalysisUtils: any) {\r\n    let noiseFreq = 64\r\n    if (SpotifyAnalysisUtils.trackFeatures.valence > 0.7) {\r\n      noiseFreq = ((VisualizerCanvas.liveAudio.bassObject.bassAv - VisualizerCanvas.liveAudio.highsObject.highsAv) / (SpotifyAnalysisUtils.trackFeatures.energy * SpotifyAnalysisUtils.trackFeatures.danceability * SpotifyAnalysisUtils.trackFeatures.valence))\r\n    } else if (SpotifyAnalysisUtils.trackFeatures.valence > 0.4) {\r\n      noiseFreq = (VisualizerCanvas.liveAudio.bassObject.bassAv + VisualizerCanvas.liveAudio.kickObject.kickAv - VisualizerCanvas.liveAudio.midsObject.midsAv) / SpotifyAnalysisUtils.trackFeatures.energy\r\n    } else if (this.SpotifyAnalysisUtils.trackFeatures.valence > 0.1) {\r\n      noiseFreq = (VisualizerCanvas.liveAudio.bassObject.bassAv + VisualizerCanvas.liveAudio.kickObject.kickAv - VisualizerCanvas.liveAudio.highsObject.highsEnergy) / SpotifyAnalysisUtils.trackFeatures.danceability\r\n    } else {\r\n      noiseFreq = ((VisualizerCanvas.liveAudio.bassObject.bassAv + VisualizerCanvas.liveAudio.kickObject.kickAv - VisualizerCanvas.liveAudio.midsObject.midsAv - VisualizerCanvas.liveAudio.highsObject.highsEnergy) / SpotifyAnalysisUtils.trackFeatures.energy)\r\n    }\r\n\r\n    const zHeight = (SpotifyAnalysisUtils.trackFeatures.energy * SpotifyAnalysisUtils.trackFeatures.danceability * (VisualizerCanvas.liveAudio.rms + VisualizerCanvas.liveAudio.highsObject.highsEnergy)) * (1.5 - SpotifyAnalysisUtils.trackFeatures.valence)\r\n    const speed = (Date.now() + VisualizerCanvas.liveAudio.bassObject.bassEnergy + VisualizerCanvas.liveAudio.kickObject.kickEnergy) / (SpotifyAnalysisUtils.trackFeatures.tempo * SpotifyAnalysisUtils.trackFeatures.danceability * SpotifyAnalysisUtils.trackFeatures.energy * 20)\r\n\r\n    const shapeGeo = VisualizerCanvas.shapeArr[0].geometry as THREE.BufferGeometry\r\n    const position = shapeGeo.getAttribute('position') as THREE.BufferAttribute\r\n\r\n    for (let i = 0; i < position.count; i++) {\r\n      const z = VisualizerCanvas.calcPlanePosition(position.getX(i), position.getY(i), noiseFreq, speed)\r\n      position.setZ(i, z * zHeight)\r\n    }\r\n\r\n    shapeGeo.setAttribute('position', position)\r\n    position.needsUpdate = true\r\n    shapeGeo.computeVertexNormals()\r\n    this.changeColour(VisualizerCanvas.shapeArr[0], VisualizerCanvas.shapeColour)\r\n\r\n    if (SpotifyAnalysisUtils.barCounter >= 1) {\r\n      const shapeMaterial = VisualizerCanvas.shapeArr[0].material as THREE.MeshLambertMaterialParameters\r\n      shapeMaterial.wireframe = !shapeMaterial.wireframe\r\n      shapeMaterial.flatShading = !shapeMaterial.wireframe\r\n      // shapeMaterial.needsUpdate = true\r\n      SpotifyAnalysisUtils.barCounter = 0\r\n    }\r\n  }\r\n\r\n  private static calcPlanePosition (x: number, y: number, noiseFreq: number, speed: number) {\r\n    return VisualizerCanvas.noise.noise3D(x / noiseFreq, y / noiseFreq, speed)\r\n  }\r\n\r\n  private mode2 (SpotifyAnalysisUtils: any) {\r\n    let isWireframe = false\r\n    if (VisualizerCanvas.shapeArr.length > 0) {\r\n      isWireframe = (VisualizerCanvas.shapeArr[0].material as THREE.MeshPhongMaterial).wireframe\r\n    }\r\n    this.removeShape()\r\n    this.addGenerativeSphere(SpotifyAnalysisUtils, isWireframe)\r\n    // this.modifyGenerativeSphere(VisualizerCanvas.shapeArr[0])\r\n    if (SpotifyAnalysisUtils.barCounter >= 1) {\r\n      const shapeMaterial = VisualizerCanvas.shapeArr[0].material as THREE.MeshPhongMaterial\r\n      shapeMaterial.wireframe = !shapeMaterial.wireframe\r\n      shapeMaterial.flatShading = !shapeMaterial.wireframe\r\n      SpotifyAnalysisUtils.barCounter = 0\r\n    }\r\n    this.changeColour(VisualizerCanvas.shapeArr[0], VisualizerCanvas.shapeColour)\r\n  }\r\n\r\n  private mode3 (SpotifyAnalysisUtils: any) {\r\n    if (SpotifyAnalysisUtils.tatumCounter % VisualizerCanvas.shapeArr.length === 0) {\r\n      for (let i = 0; i < VisualizerCanvas.shapeArr.length; i++) {\r\n        this.changeColour(VisualizerCanvas.shapeArr[i], '0x0000')\r\n      }\r\n    }\r\n    for (let i = 0; i < 1 + (SpotifyAnalysisUtils.tatumCounter % VisualizerCanvas.shapeArr.length); i++) {\r\n      this.changeColour(VisualizerCanvas.shapeArr[i], VisualizerCanvas.shapeColour)\r\n    }\r\n  }\r\n\r\n  private doMode (key: number, SpotifyAnalysisUtils: any) {\r\n    switch (key) {\r\n      case 1:\r\n        this.mode1(SpotifyAnalysisUtils)\r\n        break\r\n      case 2:\r\n        this.mode2(SpotifyAnalysisUtils)\r\n        break\r\n      case 3:\r\n        this.mode3(SpotifyAnalysisUtils)\r\n        break\r\n      case 4:\r\n        this.mode4(SpotifyAnalysisUtils)\r\n        break\r\n      case 5:\r\n        this.mode5(SpotifyAnalysisUtils)\r\n        break\r\n      default:\r\n        this.$store.commit('mutateModeKey', 1)\r\n        this.mode1(SpotifyAnalysisUtils)\r\n    }\r\n  }\r\n\r\n  zoomCamera () {\r\n    const beatConfidence = this.SpotifyAnalysisUtils.g_beats[this.SpotifyAnalysisUtils.g_beat].confidence\r\n    const beatEnd = this.SpotifyAnalysisUtils.g_beats[this.SpotifyAnalysisUtils.g_beat].start + this.SpotifyAnalysisUtils.g_beats[this.SpotifyAnalysisUtils.g_beat].duration\r\n    const zoomVal = ((Math.asin(VisualizerCanvas.liveAudio.bassObject.bassEnergy / 255) * (1 + this.SpotifyAnalysisUtils.trackFeatures.danceability)) + Math.asin(VisualizerCanvas.liveAudio.bassObject.bassAv / 255)) * this.SpotifyAnalysisUtils.trackFeatures.energy\r\n\r\n    if (this.ModeKey > 1 && zoomVal > 0.8) {\r\n      if (beatConfidence > 0.9) {\r\n        if (this.SpotifyAnalysisUtils.g_bar % 2 === 0) {\r\n          VisualizerCanvas.camera.zoom = zoomVal * (1 - (this.TrackTime / 1000 - beatEnd))\r\n        } else {\r\n          VisualizerCanvas.camera.zoom = zoomVal * (this.TrackTime / 1000 - beatEnd)\r\n        }\r\n      } else {\r\n        VisualizerCanvas.camera.zoom = zoomVal\r\n      }\r\n    } else {\r\n      VisualizerCanvas.camera.zoom = 0.8\r\n    }\r\n  }\r\n\r\n  rotateCamera () {\r\n    const offset = 15000\r\n    const time = Date.now() / (15000 * (1 - this.SpotifyAnalysisUtils.trackFeatures.energy))\r\n\r\n    const rotationY = VisualizerCanvas.noise.noise2D(time - offset, time) / 2\r\n    const rotationX = VisualizerCanvas.noise.noise2D(time, time + offset) / 3\r\n    let rotationZ = 0\r\n\r\n    if (this.ModeKey > 1) {\r\n      if (this.SpotifyAnalysisUtils.g_beats[this.SpotifyAnalysisUtils.g_beat] && this.SpotifyAnalysisUtils.g_beats[this.SpotifyAnalysisUtils.g_beat].confidence > 0.85) {\r\n        if (this.SpotifyAnalysisUtils.barCounter % 2 === 0) {\r\n          rotationZ = (this.SpotifyAnalysisUtils.trackFeatures.tempo * VisualizerCanvas.liveAudio.bassObject.bassAv) / (500000)\r\n        } else {\r\n          rotationZ = -(this.SpotifyAnalysisUtils.trackFeatures.tempo * VisualizerCanvas.liveAudio.bassObject.bassAv) / (500000)\r\n        }\r\n      }\r\n      VisualizerCanvas.camera.rotation.set(rotationX, rotationY, VisualizerCanvas.camera.rotation.z)\r\n      VisualizerCanvas.camera.rotateZ(rotationZ)\r\n    } else {\r\n      VisualizerCanvas.camera.rotation.set(0, 0, 0)\r\n    }\r\n    // console.log(rotationX)\r\n    // console.log(rotationY)\r\n    // console.log(rotationZ)\r\n  }\r\n\r\n  rotateShape (shape: THREE.Mesh) {\r\n    const spinf = VisualizerCanvas.liveAudio.frequencyData[VisualizerCanvas.freqKey]\r\n\r\n    if (spinf > 150) {\r\n      if (spinf > 200) {\r\n        shape.rotation.x -= VisualizerCanvas.spinConstants[1]\r\n        shape.rotation.y -= VisualizerCanvas.spinConstants[0]\r\n        shape.rotation.z -= VisualizerCanvas.spinConstants[1]\r\n      } else {\r\n        shape.rotation.x -= VisualizerCanvas.spinConstants[2]\r\n        shape.rotation.y -= VisualizerCanvas.spinConstants[1]\r\n        shape.rotation.z -= VisualizerCanvas.spinConstants[2]\r\n      }\r\n    } else {\r\n      if (spinf > 100) {\r\n        shape.rotation.x -= VisualizerCanvas.spinConstants[3]\r\n        shape.rotation.y += VisualizerCanvas.spinConstants[1]\r\n        shape.rotation.z -= VisualizerCanvas.spinConstants[4]\r\n      } else {\r\n        shape.rotation.x -= VisualizerCanvas.spinConstants[4]\r\n        shape.rotation.y += VisualizerCanvas.spinConstants[2]\r\n        shape.rotation.z -= VisualizerCanvas.spinConstants[3]\r\n      }\r\n    }\r\n  }\r\n\r\n  private changeColour (currShape: THREE.Mesh, currColour: string) {\r\n    if (currShape.material instanceof THREE.Material) {\r\n      const colour = new THREE.Color(parseInt(currColour))\r\n      const params: THREE.MeshLambertMaterialParameters = { color: colour }\r\n      currShape.material.setValues(params)\r\n    }\r\n  }\r\n\r\n  private setColour (key: number, SpotifyAnalysisUtils: any) {\r\n    switch (key) {\r\n      case 1:\r\n        VisualizerCanvas.shapeColour = this.hslToHex(SpotifyAnalysisUtils.g_timbre[2] * 2, SpotifyAnalysisUtils.g_timbre[1] * 2, SpotifyAnalysisUtils.g_timbre[0] * 2)\r\n        break\r\n      case 2:\r\n        VisualizerCanvas.shapeColour = this.hslToHex((1 - SpotifyAnalysisUtils.g_timbre[2]) * 2, SpotifyAnalysisUtils.g_timbre[1] * 2, SpotifyAnalysisUtils.g_timbre[0] * 2)\r\n        break\r\n      case 3:\r\n        VisualizerCanvas.shapeColour = this.hslToHex(VisualizerCanvas.liveAudio.snareObject.snareEnergy, VisualizerCanvas.liveAudio.bassObject.bassAv, SpotifyAnalysisUtils.g_timbre[0])\r\n        break\r\n      case 4:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.highsObject.highsEnergy, VisualizerCanvas.liveAudio.midsObject.midsEnergy, VisualizerCanvas.liveAudio.snareObject.snareEnergy)\r\n        break\r\n      case 5:\r\n        VisualizerCanvas.shapeColour = this.hslToHex(VisualizerCanvas.liveAudio.bassObject.bassEnergy, VisualizerCanvas.liveAudio.bassObject.bassAv + VisualizerCanvas.liveAudio.highsObject.highsEnergy, VisualizerCanvas.liveAudio.midsObject.midsEnergy)\r\n        break\r\n      case 6:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.snareObject.snareAv, VisualizerCanvas.liveAudio.avFreq / 2, VisualizerCanvas.liveAudio.avFreq / 2)\r\n        break\r\n      case 7:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.rms, VisualizerCanvas.liveAudio.avFreq, VisualizerCanvas.liveAudio.peak)\r\n        break\r\n      case 8:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.peak, VisualizerCanvas.liveAudio.avFreq, VisualizerCanvas.liveAudio.rms)\r\n        break\r\n      case 9:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.avFreq * 2, VisualizerCanvas.liveAudio.avFreq / 10, VisualizerCanvas.liveAudio.avFreq * 3)\r\n        break\r\n      case 10:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.frequencyData[13], VisualizerCanvas.liveAudio.frequencyData[9], VisualizerCanvas.liveAudio.frequencyData[5])\r\n        break\r\n      case 11:\r\n        VisualizerCanvas.shapeColour = this.hslToHex(VisualizerCanvas.liveAudio.highsObject.highsEnergy * VisualizerCanvas.liveAudio.avFreq, VisualizerCanvas.liveAudio.bassObject.bassEnergy, VisualizerCanvas.liveAudio.midsObject.midsEnergy)\r\n        break\r\n      case 12:\r\n        VisualizerCanvas.shapeColour = this.hslToHex(360 - (VisualizerCanvas.liveAudio.highsObject.highsEnergy * VisualizerCanvas.liveAudio.avFreq), VisualizerCanvas.liveAudio.bassObject.bassEnergy, VisualizerCanvas.liveAudio.midsObject.midsEnergy)\r\n        break\r\n      default:\r\n        VisualizerCanvas.shapeColour = this.rgbToHex(VisualizerCanvas.liveAudio.frequencyData[4], VisualizerCanvas.liveAudio.frequencyData[8], VisualizerCanvas.liveAudio.frequencyData[12])\r\n    }\r\n  }\r\n\r\n  private setShapePosition () {\r\n    let a = 0\r\n    let f = 1\r\n    let x = 0\r\n    let y = 0\r\n    let z = 0\r\n    const distance = 25\r\n    let shapeCount = 0\r\n    const lim = 12\r\n\r\n    // layer 0\r\n    VisualizerCanvas.shapeArr[shapeCount++].position.set(x, y, z)\r\n    x = x + distance\r\n\r\n    VisualizerCanvas.layerMarker[0] = 1\r\n\r\n    // layer 1-<lim\r\n    for (f; f < lim; f++) {\r\n      for (a = 1; a < 2 * f; a++) {\r\n        VisualizerCanvas.shapeArr[shapeCount++].position.set(x, y, z)\r\n        y = y - distance\r\n      }\r\n      for (a = 0; a < 2 * f; a++) {\r\n        VisualizerCanvas.shapeArr[shapeCount++].position.set(x, y, z)\r\n        x = x - distance\r\n      }\r\n      for (a = 0; a < 2 * f; a++) {\r\n        VisualizerCanvas.shapeArr[shapeCount++].position.set(x, y, z)\r\n        y = y + distance\r\n      }\r\n      for (a = -1; a < 2 * f; a++) {\r\n        VisualizerCanvas.shapeArr[shapeCount++].position.set(x, y, z)\r\n        x = x + distance\r\n      }\r\n\r\n      VisualizerCanvas.layerMarker[f] = shapeCount\r\n      console.log(shapeCount)\r\n      z = z - distance\r\n    }\r\n    console.log(VisualizerCanvas.layerMarker)\r\n  }\r\n\r\n  private removeShape () {\r\n    console.log('removing shapes')\r\n    for (let i = 0; i < VisualizerCanvas.shapeArr.length; i++) {\r\n      VisualizerCanvas.scene.remove(VisualizerCanvas.shapeArr[i])\r\n      VisualizerCanvas.shapeArr[i].geometry.dispose()\r\n      const material = VisualizerCanvas.shapeArr[i].material as THREE.Material\r\n      material.dispose()\r\n    }\r\n    VisualizerCanvas.shapeArr = []\r\n  }\r\n\r\n  private addOcean () {\r\n    VisualizerCanvas.shapeArr.push(new THREE.Mesh(new THREE.PlaneBufferGeometry(window.innerWidth, window.innerWidth, 256, 256), new THREE.MeshLambertMaterial()))\r\n    console.log(VisualizerCanvas.shapeArr)\r\n    VisualizerCanvas.shapeArr[0].rotation.set(-Math.PI / 4, 0, Math.PI / 2)\r\n    VisualizerCanvas.shapeArr[0].position.set(0, 0, -250)\r\n    VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[0])\r\n    console.log('added ocean')\r\n  }\r\n\r\n  private addGenerativeSphere (SpotifyAnalysisUtils: any, isWireframe: boolean) {\r\n    let segments = 1\r\n    const chords: number[] = SpotifyAnalysisUtils.g_pitches.filter((pitch: number) => pitch > 0.5)\r\n    if (chords.length > 0) {\r\n      segments = chords.reduce((sum, currVal) => sum + currVal)\r\n    }\r\n    VisualizerCanvas.shapeArr.push(new THREE.Mesh(new THREE.SphereBufferGeometry(50, Math.ceil(segments * 3), Math.ceil(segments * 3), 0, Math.PI * 2, Math.sin(SpotifyAnalysisUtils.trackFeatures.tempo * this.TrackTime / 1000000) * Math.PI * 2, (VisualizerCanvas.liveAudio.rms / 255) * 6), new THREE.MeshPhongMaterial({ wireframe: isWireframe, flatShading: !isWireframe })))\r\n    VisualizerCanvas.shapeArr[0].rotation.set(Math.PI / 2, 0, 0)\r\n    VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[0])\r\n    console.log((VisualizerCanvas.shapeArr[0].geometry as THREE.SphereBufferGeometry).parameters.thetaStart)\r\n    console.log((VisualizerCanvas.shapeArr[0].geometry as THREE.SphereBufferGeometry).parameters.thetaLength)\r\n  }\r\n\r\n  private addShape (shapeType: number) {\r\n    if (shapeType === 0) {\r\n      const cubeGeo = new THREE.BoxGeometry(10, 10, 10)\r\n      for (let i = 0; i < VisualizerCanvas.shapeMax; i++) {\r\n        VisualizerCanvas.shapeArr.push(new THREE.Mesh(cubeGeo, new THREE.MeshLambertMaterial({ color: 0x000000 })))\r\n        VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[i])\r\n      }\r\n      console.log('added new cube grid')\r\n    } else if (shapeType === 1) {\r\n      const octaGeo = new THREE.OctahedronGeometry(10, 0)\r\n      for (let i = 0; i < VisualizerCanvas.shapeMax; i++) {\r\n        VisualizerCanvas.shapeArr.push(new THREE.Mesh(octaGeo, new THREE.MeshLambertMaterial({ color: 0x000000 })))\r\n        VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[i])\r\n      }\r\n      console.log('added new octa grid')\r\n    } else if (shapeType === 2) {\r\n      const sphereGeo = new THREE.SphereGeometry(5, 32, 32)\r\n      for (let i = 0; i < VisualizerCanvas.shapeMax; i++) {\r\n        VisualizerCanvas.shapeArr.push(new THREE.Mesh(sphereGeo, new THREE.MeshLambertMaterial({ color: 0x000000 })))\r\n        VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[i])\r\n      }\r\n      console.log('added new sphere grid')\r\n    } else if (shapeType === 3) {\r\n      const tetraGeo = new THREE.TetrahedronGeometry(10, 0)\r\n      for (let i = 0; i < VisualizerCanvas.shapeMax; i++) {\r\n        VisualizerCanvas.shapeArr.push(new THREE.Mesh(tetraGeo, new THREE.MeshLambertMaterial({ color: 0x000000 })))\r\n        VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[i])\r\n      }\r\n      console.log('added new tetra grid')\r\n    } else {\r\n      const dodecaGeo = new THREE.DodecahedronGeometry(10, 0)\r\n      for (let i = 0; i < VisualizerCanvas.shapeMax; i++) {\r\n        VisualizerCanvas.shapeArr.push(new THREE.Mesh(dodecaGeo, new THREE.MeshLambertMaterial({ color: 0x000000 })))\r\n        VisualizerCanvas.scene.add(VisualizerCanvas.shapeArr[i])\r\n      }\r\n      console.log('added new dodeca grid')\r\n    }\r\n  }\r\n\r\n  private addLighting () {\r\n    const pointLight = new THREE.PointLight(0xffffff)\r\n    const spotLight = new THREE.SpotLight(0xffffff)\r\n    pointLight.position.set(0, 500, 600)\r\n    VisualizerCanvas.scene.add(pointLight)\r\n\r\n    spotLight.position.set(0, -window.innerHeight / 2, window.innerHeight / 8)\r\n    spotLight.castShadow = true\r\n\r\n    spotLight.shadow.mapSize.width = window.innerWidth\r\n    spotLight.shadow.mapSize.height = window.innerHeight\r\n\r\n    spotLight.shadow.camera.near = 500\r\n    spotLight.shadow.camera.far = 4000\r\n    spotLight.shadow.camera.fov = 30\r\n    VisualizerCanvas.scene.add(spotLight)\r\n  }\r\n\r\n  private rgbToHexHelper (num: number) {\r\n    const hex = Math.ceil(num).toString(16)\r\n    return hex.length === 1 ? '0' + hex : hex\r\n  }\r\n\r\n  private rgbToHex (r: number, g: number, b: number) {\r\n    return ('0x' + this.rgbToHexHelper(r) + this.rgbToHexHelper(g) + this.rgbToHexHelper(b))\r\n  }\r\n\r\n  private hslToHex (h: number, s: number, l: number) {\r\n    h /= 360\r\n    s /= 255\r\n    l /= 255\r\n    let r, g, b\r\n    if (s === 0) {\r\n      r = g = b = l // achromatic\r\n    } else {\r\n      const hue2rgb = (p: number, q: number, t: number) => {\r\n        if (t < 0) t += 1\r\n        if (t > 1) t -= 1\r\n        if (t < 1 / 6) return p + (q - p) * 6 * t\r\n        if (t < 1 / 2) return q\r\n        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\r\n        return p\r\n      }\r\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s\r\n      const p = 2 * l - q\r\n      r = hue2rgb(p, q, h + 1 / 3)\r\n      g = hue2rgb(p, q, h)\r\n      b = hue2rgb(p, q, h - 1 / 3)\r\n    }\r\n    const toHex = (x: number) => {\r\n      const hex = Math.round(x * 255).toString(16)\r\n      return hex.length === 1 ? '0' + hex : hex\r\n    }\r\n    return `0x${toHex(r)}${toHex(g)}${toHex(b)}`\r\n  }\r\n\r\n  private canvasResizeListener (el: Element) {\r\n    el.addEventListener('onresize', re => {\r\n      const width = el.clientWidth\r\n      const height = el.clientHeight\r\n\r\n      VisualizerCanvas.renderer.setSize(width, height)\r\n      VisualizerCanvas.camera.aspect = width / height\r\n      VisualizerCanvas.camera.updateProjectionMatrix()\r\n    })\r\n  }\r\n\r\n  @Watch('ModeKey')\r\n  onModeKeyChanged (mode: number, oldMode: number) {\r\n    console.log(`changing mode key to ${mode} from ${oldMode}`)\r\n    if (mode) {\r\n      this.changingMode = true\r\n      this.removeShape()\r\n      if (mode > 2) {\r\n        this.addShape(Math.floor(Math.random() * 5))\r\n        this.setShapePosition()\r\n        this.rotateShapeToggle = true\r\n        VisualizerCanvas.scene.children[1].position.set(0, -window.innerHeight / 2, 90)\r\n      } else if (mode === 1) {\r\n        this.addOcean()\r\n        VisualizerCanvas.noise = new SimplexNoise()\r\n        this.rotateShapeToggle = false\r\n        VisualizerCanvas.scene.children[1].position.set(0, -window.innerHeight / 2, 90)\r\n      } else if (mode === 2) {\r\n        this.addGenerativeSphere(this.SpotifyAnalysisUtils, false)\r\n        VisualizerCanvas.scene.children[1].position.set(0, -window.innerHeight / 4, 0)\r\n        this.rotateShapeToggle = false\r\n      }\r\n      this.changingMode = false\r\n      console.log(VisualizerCanvas.scene.children[1])\r\n    }\r\n  }\r\n\r\n  private changeColourKey () {\r\n    if (this.SpotifyAnalysisUtils.changeColour) {\r\n      const newColourKey = Math.floor(Math.random() * 9)\r\n      this.$store.commit('mutateColourKey', newColourKey)\r\n      this.SpotifyAnalysisUtils.changeColour = false\r\n      console.log(`changing colour key to ${newColourKey}`)\r\n    }\r\n  }\r\n\r\n  private changeModeKey () {\r\n    if (this.SpotifyAnalysisUtils.changeMode) {\r\n      const newModeKey = Math.floor(1 + Math.random() * 5)\r\n      this.$store.commit('mutateModeKey', newModeKey)\r\n      this.SpotifyAnalysisUtils.changeMode = false\r\n      console.log(`changing mode key to ${newModeKey}`)\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VisualizerCanvas.vue?vue&type=template&id=73099b5e&scoped=true&\"\nimport script from \"./VisualizerCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./VisualizerCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./VisualizerCanvas.vue?vue&type=style&index=0&id=73099b5e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73099b5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controls-container\"},[_c('transition',{attrs:{\"name\":\"fadeRight\",\"mode\":\"out-in\"}},[(this.isOpen)?_c('div',{key:\"OpenVisualizerControls\",staticClass:\"child\"},[_c('div',{staticClass:\"controls\"},[_c('button',{staticClass:\"btn close\",on:{\"click\":_vm.closeVis}},[_vm._v(\"close visualizer\")]),_c('div',[_vm._v(\" Mode: \"),_c('strong',[_vm._v(_vm._s(this.ModeKey))])]),_c('div',[_vm._v(\" Colour: \"),_c('strong',[_vm._v(_vm._s(this.ColourKey))])]),_c('button',{staticClass:\"btn toggle\",class:{on: this.RandomMode},on:{\"click\":_vm.toggleRandomMode}},[_vm._v(\" Randomize Mode \")]),_c('button',{staticClass:\"btn toggle\",class:{on: this.RandomColour},on:{\"click\":_vm.toggleRandomColour}},[_vm._v(\" Randomize Colour \")]),(this.ModeKey > 1)?_c('button',{staticClass:\"btn toggle\",class:{on: this.CameraZoomToggle},on:{\"click\":_vm.toggleCameraZoom}},[_vm._v(\" Camera Zoom \")]):_vm._e(),(this.ModeKey > 1)?_c('button',{staticClass:\"btn toggle\",class:{on: this.CameraRotateToggle},on:{\"click\":_vm.toggleCameraRotate}},[_vm._v(\" Camera Rotate \")]):_vm._e(),_c('button',{staticClass:\"btn close\",on:{\"click\":_vm.hideControls}},[_vm._v(\" hide controls \")])])]):_c('div',{key:\"CloseVisualizerControls\",staticClass:\"child closed\"},[_c('div',{staticClass:\"hidden-controls-container\"},[_c('a',{on:{\"click\":_vm.showControls}},[_vm._v(\" > \")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\n\r\n@Component\r\nexport default class VisualizerControls extends Vue {\r\n  private isOpen: boolean;\r\n\r\n  constructor () {\r\n    super()\r\n    this.isOpen = false\r\n  }\r\n\r\n  get CameraZoomToggle () {\r\n    return this.$store.state.cameraZoomToggle\r\n  }\r\n\r\n  get CameraRotateToggle () {\r\n    return this.$store.state.cameraRotateToggle\r\n  }\r\n\r\n  get RandomMode () {\r\n    return this.$store.state.randomMode\r\n  }\r\n\r\n  get RandomColour () {\r\n    return this.$store.state.randomColour\r\n  }\r\n\r\n  get ModeKey () {\r\n    return this.$store.state.modeKey\r\n  }\r\n\r\n  get ColourKey () {\r\n    return this.$store.state.colourKey\r\n  }\r\n\r\n  toggleCameraZoom () {\r\n    this.$store.commit('mutateCameraZoomToggle', !this.CameraZoomToggle)\r\n  }\r\n\r\n  toggleCameraRotate () {\r\n    this.$store.commit('mutateCameraRotateToggle', !this.CameraRotateToggle)\r\n  }\r\n\r\n  toggleRandomMode () {\r\n    this.$store.commit('mutateRandomMode', !this.RandomMode)\r\n  }\r\n\r\n  toggleRandomColour () {\r\n    this.$store.commit('mutateRandomColour', !this.RandomColour)\r\n  }\r\n\r\n  closeVis () {\r\n    this.$store.commit('mutateOpenVisualizer', false)\r\n  }\r\n\r\n  hideControls () {\r\n    this.isOpen = false\r\n    console.log(this.isOpen)\r\n  }\r\n\r\n  showControls () {\r\n    this.isOpen = true\r\n    console.log(this.isOpen)\r\n  }\r\n\r\n  mounted () {\r\n    window.addEventListener('keypress', this.doCommand)\r\n  }\r\n\r\n  beforeDestroy () {\r\n    window.removeEventListener('keypress', this.doCommand)\r\n  }\r\n\r\n  doCommand (keyPress: KeyboardEvent) {\r\n    const cmd = keyPress.key.toLowerCase()\r\n    console.log(cmd)\r\n\r\n    if (parseInt(cmd) === 0) {\r\n      this.$store.commit('mutateModeKey', 0)\r\n    } else if (parseInt(cmd) === 1) {\r\n      this.$store.commit('mutateModeKey', 1)\r\n    } else if (parseInt(cmd) === 2) {\r\n      this.$store.commit('mutateModeKey', 2)\r\n    } else if (parseInt(cmd) === 3) {\r\n      this.$store.commit('mutateModeKey', 3)\r\n    } else if (parseInt(cmd) === 4) {\r\n      this.$store.commit('mutateModeKey', 4)\r\n    } else if (parseInt(cmd) === 5) {\r\n      this.$store.commit('mutateModeKey', 5)\r\n    } else if (cmd === 'q') {\r\n      this.$store.commit('mutateColourKey', 1)\r\n    } else if (cmd === 'a') {\r\n      this.$store.commit('mutateColourKey', 2)\r\n    } else if (cmd === 'z') {\r\n      this.$store.commit('mutateColourKey', 3)\r\n    } else if (cmd === 'w') {\r\n      this.$store.commit('mutateColourKey', 4)\r\n    } else if (cmd === 's') {\r\n      this.$store.commit('mutateColourKey', 5)\r\n    } else if (cmd === 'x') {\r\n      this.$store.commit('mutateColourKey', 6)\r\n    } else if (cmd === 'e') {\r\n      this.$store.commit('mutateColourKey', 7)\r\n    } else if (cmd === 'd') {\r\n      this.$store.commit('mutateColourKey', 8)\r\n    } else if (cmd === 'c') {\r\n      this.$store.commit('mutateColourKey', 10)\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VisualizerControls.vue?vue&type=template&id=1acd4982&scoped=true&\"\nimport script from \"./VisualizerControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./VisualizerControls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./VisualizerControls.vue?vue&type=style&index=0&id=1acd4982&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1acd4982\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <Player v-if=\"this.$store.state.authUser\"></Player>\n    <div v-if=\"!this.$store.state.openVisualizer\">\n      <Login :key=\"this.$store.state.accessToken\"/>\n      <div v-if=\"this.$store.state.playerInfo\">\n        <transition-group class=\"home-container\" name=\"fade\">\n          <OnlineUsers v-if=\"this.$store.state.user\" :key=\"this.$store.state.authUser\"/>\n          <MyPlaylists v-if=\"this.$store.state.authUser\" key=\"myPlaylistsContainer\"/>\n        </transition-group>\n      </div>\n    </div>\n    <div v-else>\n      <div v-if=\"this.$store.state.openVisualizer\">\n        <VisualizerCanvas v-if=\"this.$store.state.playerInfo\"></VisualizerCanvas>\n        <VisualizerControls v-if=\"this.$store.state.modeKey\"></VisualizerControls>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Login from '@/components/Login.vue'\nimport OnlineUsers from '@/components/OnlineUsers.vue'\nimport Player from '@/components/Player.vue'\nimport MyPlaylists from '@/components/MyPlaylists.vue'\nimport VisualizerCanvas from '@/components/VisualizerCanvas'\nimport VisualizerControls from '@/components/VisualizerControls'\n\nexport default {\n  name: 'Home',\n  components: {\n    Login,\n    OnlineUsers,\n    Player,\n    MyPlaylists,\n    VisualizerCanvas,\n    VisualizerControls\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=1909da3a&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/dashboard',\n    name: 'Dashboard',\n    component: () => import('../views/Dashboard.vue')\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  },\n  {\n    path: '/community',\n    name: 'Community',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"Community\" */ '../views/Community.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { authUser } from '@/services/firebase-utils'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    accessToken: null,\n    refreshToken: null,\n    user: null,\n    authUser: null,\n    openVisualizer: false,\n    onlineUsers: null,\n    lastOnlineUsers: null,\n    deviceID: null,\n    playerInfo: null,\n    trackPosition: null,\n    topTracks: null,\n    topArtists: null,\n    userPlaylists: null,\n    usersPlaylists: new Map(),\n    toggleUsersPlaylists: new Map(),\n    spotifyAnalysisUtils: null,\n    modeKey: 1,\n    colourKey: 1,\n    randomMode: true,\n    randomColour: true,\n    cameraZoomToggle: true,\n    cameraRotateToggle: true\n  },\n  mutations: {\n    mutateAccessToken (state, payload) {\n      state.accessToken = payload\n    },\n    mutateRefreshToken (state, payload) {\n      state.refreshToken = payload\n    },\n    mutateUser (state, payload) {\n      state.user = payload\n    },\n    mutateAuthUser (state, payload) {\n      state.authUser = payload\n    },\n    mutateOpenVisualizer (state, payload) {\n      state.openVisualizer = payload\n    },\n    mutateOnlineUsers (state, payload) {\n      state.onlineUsers = payload\n    },\n    mutateLastOnlineUsers (state, payload) {\n      state.lastOnlineUsers = payload\n    },\n    mutateDeviceID (state, payload) {\n      state.deviceID = payload\n    },\n    mutatePlayerInfo (state, payload) {\n      state.playerInfo = payload\n    },\n    mutateTrackPosition (state, payload) {\n      state.trackPosition = payload\n    },\n    mutateTopTracks (state, payload) {\n      state.topTracks = payload\n    },\n    mutateTopArtists (state, payload) {\n      state.topArtists = payload\n    },\n    mutateUserPlaylists (state, payload) {\n      state.userPlaylists = payload\n    },\n    mutateUsersPlaylists (state, payload) {\n      const uPlaylists = state.usersPlaylists.set(payload.key, payload.value)\n      state.usersPlaylists = new Map()\n      state.usersPlaylists = uPlaylists\n    },\n    mutateSpotifyAnalysisUtils (state, payload) {\n      state.spotifyAnalysisUtils = payload\n    },\n    mutateModeKey (state, payload) {\n      state.modeKey = payload\n    },\n    mutateColourKey (state, payload) {\n      state.colourKey = payload\n    },\n    mutateRandomMode (state, payload) {\n      state.randomMode = payload\n    },\n    mutateRandomColour (state, payload) {\n      state.randomColour = payload\n    },\n    mutateCameraZoomToggle (state, payload) {\n      state.cameraZoomToggle = payload\n    },\n    mutateCameraRotateToggle (state, payload) {\n      state.cameraRotateToggle = payload\n    }\n  },\n  getters: {\n    getAccessToken (state) {\n      return state.accessToken\n    },\n    getRefreshToken (state) {\n      return state.refreshToken\n    },\n    getUser (state) {\n      return state.user\n    },\n    getAuthUser (state) {\n      return state.authUser\n    },\n    getOnlineUsers (state) {\n      return state.onlineUsers\n    },\n    getLastOnlineUsers (state) {\n      return state.lastOnlineUsers\n    },\n    getDeviceID (state) {\n      return state.deviceID\n    },\n    getPlayerInfo (state) {\n      return state.playerInfo\n    },\n    getTopTracks (state) {\n      return state.topTracks\n    },\n    getTopArtists (state) {\n      return state.topArtists\n    },\n    getUsersPlaylists (state) {\n      return state.usersPlaylists\n    },\n    getToggleUsersPlaylists (state) {\n      return state.toggleUsersPlaylists\n    }\n  },\n  actions: {\n    async actionAuthUser (context, payload) {\n      context.commit('mutateAuthUser', await authUser(payload))\n    }\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\nimport VueGtag from 'vue-gtag'\r\n\r\nVue.use(VueAxios, axios)\r\nVue.use(VueGtag, {\r\n  config: {\r\n    id: 'UA-133459521-1'\r\n  }\r\n}, router)\r\n\r\nVue.config.productionTip = process.env.NODE_ENV\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylists.vue?vue&type=style&index=0&id=52e97771&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPlaylists.vue?vue&type=style&index=0&id=52e97771&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerControls.vue?vue&type=style&index=0&id=1acd4982&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerControls.vue?vue&type=style&index=0&id=1acd4982&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerCanvas.vue?vue&type=style&index=0&id=73099b5e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisualizerCanvas.vue?vue&type=style&index=0&id=73099b5e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPlaylists.vue?vue&type=style&index=0&id=978fe300&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPlaylists.vue?vue&type=style&index=0&id=978fe300&scoped=true&lang=css&\""],"sourceRoot":""}